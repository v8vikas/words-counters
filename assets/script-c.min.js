!function(e){var n=[],o=Array.prototype.forEach;function i(e){for(var t=[],r=0,a=e.length;r<a;){var n=e.charCodeAt(r++);if(55296<=n&&n<=56319&&r<a){var o=e.charCodeAt(r++);56320==(64512&o)?t.push(((1023&n)<<10)+(1023&o)+65536):(t.push(n),r--)}else t.push(n)}return t}function s(e,t){var r=Object.prototype.toString.call(e),a="string"==typeof e||"[object NodeList]"===r||"[object HTMLCollection]"===r||1===e.nodeType,n="function"==typeof t;return a||console.error("Countable: Not a valid target"),n||console.error("Countable: Not a valid callback function"),a&&n}function l(e,t){var r=""+("string"==typeof e?e:"value"in e?e.value:e.textContent);(t=t||{}).stripTags&&(r=r.replace(/<\/?[a-z][^>]*>/gi,"")),t.ignore&&o.call(t.ignore,function(e){r=r.replace(e,"")});var a=r.trim();return{paragraphs:a?(a.match(t.hardReturns?/\n{2,}/g:/\n+/g)||[]).length+1:0,sentences:a?(a.match(/\w[.?!](\s|$)/g)||[]).length+1:0,words:a?(a.replace(/['";:,.?¿\-!¡]+/g,"").match(/\S+/g)||[]).length:0,characters:a?i(a.replace(/\s/g,"")).length:0,all:i(r.replace(/\r?\n|\r/g,"")).length}}var t={on:function(e,r,a){if(s(e,r))return Array.isArray(e)||(e=[e]),o.call(e,function(e){var t=function(){r.call(e,l(e,a))};n.push({element:e,handler:t}),t(),e.addEventListener("input",t)}),this},off:function(t){if(s(t,function(){}))return Array.isArray(t)||(t=[t]),n.filter(function(e){return-1!==t.indexOf(e.element)}).forEach(function(e){e.element.removeEventListener("input",e.handler)}),n=n.filter(function(e){return-1===t.indexOf(e.element)}),this},count:function(e,t,r){if(s(e,t))return Array.isArray(e)||(e=[e]),o.call(e,function(e){t.call(e,l(e,r))}),this},enabled:function(t){return void 0===t.length&&(t=[t]),n.filter(function(e){return-1!==t.indexOf(e.element)}).length===t.length}};"object"==typeof exports?module.exports=t:"function"==typeof define&&define.amd?define(function(){return t}):e.Countable=t}(this),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Typed=t():e.Typed=t()}(this,function(){return function(r){var a={};function n(e){if(a[e])return a[e].exports;var t=a[e]={exports:{},id:e,loaded:!1};return r[e].call(t.exports,t,t.exports,n),t.loaded=!0,t.exports}return n.m=r,n.c=a,n.p="",n(0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function a(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}}();var n=r(1),l=r(3),o=function(){function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n.initializer.load(this,t,e),this.begin()}return a(r,[{key:"toggle",value:function(){this.pause.status?this.start():this.stop()}},{key:"stop",value:function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))}},{key:"start",value:function(){this.typingComplete||this.pause.status&&(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))}},{key:"destroy",value:function(){this.reset(!1),this.options.onDestroy(this)}},{key:"reset",value:function(){var e=arguments.length<=0||void 0===arguments[0]||arguments[0];clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,e&&(this.insertCursor(),this.options.onReset(this),this.begin())}},{key:"begin",value:function(){var e=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout(function(){e.currentElContent&&0!==e.currentElContent.length?e.backspace(e.currentElContent,e.currentElContent.length):e.typewrite(e.strings[e.sequence[e.arrayPos]],e.strPos)},this.startDelay)}},{key:"typewrite",value:function(n,o){var i=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var e=this.humanizer(this.typeSpeed),s=1;!0!==this.pause.status?this.timeout=setTimeout(function(){o=l.htmlParser.typeHtmlChars(n,o,i);var e=0,t=n.substr(o);if("^"===t.charAt(0)&&/^\^\d+/.test(t)){var r=1;r+=(t=/\d+/.exec(t)[0]).length,e=parseInt(t),i.temporaryPause=!0,i.options.onTypingPaused(i.arrayPos,i),n=n.substring(0,o)+n.substring(o+r),i.toggleBlinking(!0)}if("`"===t.charAt(0)){for(;"`"!==n.substr(o+s).charAt(0)&&!(o+ ++s>n.length););var a=n.substring(0,o);n=a+n.substring(a.length+1,o+s)+n.substring(o+s+1),s--}i.timeout=setTimeout(function(){i.toggleBlinking(!1),o>=n.length?i.doneTyping(n,o):i.keepTyping(n,o,s),i.temporaryPause&&(i.temporaryPause=!1,i.options.onTypingResumed(i.arrayPos,i))},e)},e):this.setPauseStatus(n,o,!0)}},{key:"keepTyping",value:function(e,t,r){0===t&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this)),t+=r;var a=e.substr(0,t);this.replaceText(a),this.typewrite(e,t)}},{key:"doneTyping",value:function(e,t){var r=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),this.arrayPos===this.strings.length-1&&(this.complete(),!1===this.loop||this.curLoop===this.loopCount)||(this.timeout=setTimeout(function(){r.backspace(e,t)},this.backDelay))}},{key:"backspace",value:function(r,a){var n=this;if(!0!==this.pause.status){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var e=this.humanizer(this.backSpeed);this.timeout=setTimeout(function(){a=l.htmlParser.backSpaceHtmlChars(r,a,n);var e=r.substr(0,a);if(n.replaceText(e),n.smartBackspace){var t=n.strings[n.arrayPos+1];t&&e===t.substr(0,a)?n.stopNum=a:n.stopNum=0}a>n.stopNum?(a--,n.backspace(r,a)):a<=n.stopNum&&(n.arrayPos++,n.arrayPos===n.strings.length?(n.arrayPos=0,n.options.onLastStringBackspaced(),n.shuffleStringsIfNeeded(),n.begin()):n.typewrite(n.strings[n.sequence[n.arrayPos]],a))},e)}else this.setPauseStatus(r,a,!0)}},{key:"complete",value:function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0}},{key:"setPauseStatus",value:function(e,t,r){this.pause.typewrite=r,this.pause.curString=e,this.pause.curStrPos=t}},{key:"toggleBlinking",value:function(e){this.cursor&&(this.pause.status||this.cursorBlinking!==e&&((this.cursorBlinking=e)?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink")))}},{key:"humanizer",value:function(e){return Math.round(Math.random()*e/2)+e}},{key:"shuffleStringsIfNeeded",value:function(){this.shuffle&&(this.sequence=this.sequence.sort(function(){return Math.random()-.5}))}},{key:"initFadeOut",value:function(){var e=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout(function(){e.arrayPos++,e.replaceText(""),e.strings.length>e.arrayPos?e.typewrite(e.strings[e.sequence[e.arrayPos]],0):(e.typewrite(e.strings[0],0),e.arrayPos=0)},this.fadeOutDelay)}},{key:"replaceText",value:function(e){this.attr?this.el.setAttribute(this.attr,e):this.isInput?this.el.value=e:"html"===this.contentType?this.el.innerHTML=e:this.el.textContent=e}},{key:"bindFocusEvents",value:function(){var t=this;this.isInput&&(this.el.addEventListener("focus",function(e){t.stop()}),this.el.addEventListener("blur",function(e){t.el.value&&0!==t.el.value.length||t.start()}))}},{key:"insertCursor",value:function(){this.showCursor&&(this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)))}}]),r}();t.default=o,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},a=function(){function a(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}}();var n,o=r(2),l=(n=o)&&n.__esModule?n:{default:n},i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"load",value:function(e,t,r){if(e.el="string"==typeof r?document.querySelector(r):r,e.options=s({},l.default,t),e.isInput="input"===e.el.tagName.toLowerCase(),e.attr=e.options.attr,e.bindInputFocusEvents=e.options.bindInputFocusEvents,e.showCursor=!e.isInput&&e.options.showCursor,e.cursorChar=e.options.cursorChar,e.cursorBlinking=!0,e.elContent=e.attr?e.el.getAttribute(e.attr):e.el.textContent,e.contentType=e.options.contentType,e.typeSpeed=e.options.typeSpeed,e.startDelay=e.options.startDelay,e.backSpeed=e.options.backSpeed,e.smartBackspace=e.options.smartBackspace,e.backDelay=e.options.backDelay,e.fadeOut=e.options.fadeOut,e.fadeOutClass=e.options.fadeOutClass,e.fadeOutDelay=e.options.fadeOutDelay,e.isPaused=!1,e.strings=e.options.strings.map(function(e){return e.trim()}),"string"==typeof e.options.stringsElement?e.stringsElement=document.querySelector(e.options.stringsElement):e.stringsElement=e.options.stringsElement,e.stringsElement){e.strings=[],e.stringsElement.style.display="none";var a=Array.prototype.slice.apply(e.stringsElement.children),n=a.length;if(n)for(var o=0;o<n;o+=1){var i=a[o];e.strings.push(i.innerHTML.trim())}}for(var o in e.strPos=0,e.arrayPos=0,e.stopNum=0,e.loop=e.options.loop,e.loopCount=e.options.loopCount,e.curLoop=0,e.shuffle=e.options.shuffle,e.sequence=[],e.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},e.typingComplete=!1,e.strings)e.sequence[o]=o;e.currentElContent=this.getCurrentElContent(e),e.autoInsertCss=e.options.autoInsertCss,this.appendAnimationCss(e)}},{key:"getCurrentElContent",value:function(e){return e.attr?e.el.getAttribute(e.attr):e.isInput?e.el.value:"html"===e.contentType?e.el.innerHTML:e.el.textContent}},{key:"appendAnimationCss",value:function(e){var t="data-typed-js-css";if(e.autoInsertCss&&(e.showCursor||e.fadeOut)&&!document.querySelector("["+t+"]")){var r=document.createElement("style");r.type="text/css",r.setAttribute(t,!0);var a="";e.showCursor&&(a+="\n        .typed-cursor{\n          opacity: 1;\n        }\n        .typed-cursor.typed-cursor--blink{\n          animation: typedjsBlink 0.7s infinite;\n          -webkit-animation: typedjsBlink 0.7s infinite;\n                  animation: typedjsBlink 0.7s infinite;\n        }\n        @keyframes typedjsBlink{\n          50% { opacity: 0.0; }\n        }\n        @-webkit-keyframes typedjsBlink{\n          0% { opacity: 1; }\n          50% { opacity: 0.0; }\n          100% { opacity: 1; }\n        }\n      "),e.fadeOut&&(a+="\n        .typed-fade-out{\n          opacity: 0;\n          transition: opacity .25s;\n        }\n        .typed-cursor.typed-cursor--blink.typed-fade-out{\n          -webkit-animation: 0;\n          animation: 0;\n        }\n      "),0!==r.length&&(r.innerHTML=a,document.body.appendChild(r))}}}]),e}(),c=new(t.default=i);t.initializer=c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(e){},onComplete:function(e){},preStringTyped:function(e,t){},onStringTyped:function(e,t){},onLastStringBackspaced:function(e){},onTypingPaused:function(e,t){},onTypingResumed:function(e,t){},onReset:function(e){},onStop:function(e,t){},onStart:function(e,t){},onDestroy:function(e){}};t.default=r,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function a(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"typeHtmlChars",value:function(e,t,r){if("html"!==r.contentType)return t;var a=e.substr(t).charAt(0);if("<"===a||"&"===a){var n="";for(n="<"===a?">":";";e.substr(t+1).charAt(0)!==n&&!(++t+1>e.length););t++}return t}},{key:"backSpaceHtmlChars",value:function(e,t,r){if("html"!==r.contentType)return t;var a=e.substr(t).charAt(0);if(">"===a||";"===a){var n="";for(n=">"===a?"<":"&";e.substr(t-1).charAt(0)!==n&&!(--t<0););t--}return t}}]),e}(),n=new(t.default=a);t.htmlParser=n}])}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof module&&module.exports?module.exports=t():e.numeral=t()}(this,function(){var y,o,l,c,e,s={},k={},t={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},u={currentLocale:t.currentLocale,zeroFormat:t.zeroFormat,nullFormat:t.nullFormat,defaultFormat:t.defaultFormat,scalePercentBy100:t.scalePercentBy100};function i(e,t){this._input=e,this._value=t}return(y=function(e){var t,r,a,n;if(y.isNumeral(e))t=e.value();else if(0===e||void 0===e)t=0;else if(null===e||o.isNaN(e))t=null;else if("string"==typeof e)if(u.zeroFormat&&e===u.zeroFormat)t=0;else if(u.nullFormat&&e===u.nullFormat||!e.replace(/[^0-9]+/g,"").length)t=null;else{for(r in s)if((n="function"==typeof s[r].regexps.unformat?s[r].regexps.unformat():s[r].regexps.unformat)&&e.match(n)){a=s[r].unformat;break}t=(a=a||y._.stringToNumber)(e)}else t=Number(e)||null;return new i(e,t)}).version="2.0.6",y.isNumeral=function(e){return e instanceof i},y._=o={numberToFormat:function(e,t,r){var a,n,o,i,s,l,c,u,d=k[y.options.currentLocale],p=!1,m=!1,f="",h="",g=!1;if(e=e||0,o=Math.abs(e),y._.includes(t,"(")?(p=!0,t=t.replace(/[\(|\)]/g,"")):(y._.includes(t,"+")||y._.includes(t,"-"))&&(l=y._.includes(t,"+")?t.indexOf("+"):e<0?t.indexOf("-"):-1,t=t.replace(/[\+|\-]/g,"")),y._.includes(t,"a")&&(n=!!(n=t.match(/a(k|m|b|t)?/))&&n[1],y._.includes(t," a")&&(f=" "),t=t.replace(new RegExp(f+"a[kmbt]?"),""),1e12<=o&&!n||"t"===n?(f+=d.abbreviations.trillion,e/=1e12):o<1e12&&1e9<=o&&!n||"b"===n?(f+=d.abbreviations.billion,e/=1e9):o<1e9&&1e6<=o&&!n||"m"===n?(f+=d.abbreviations.million,e/=1e6):(o<1e6&&1e3<=o&&!n||"k"===n)&&(f+=d.abbreviations.thousand,e/=1e3)),y._.includes(t,"[.]")&&(m=!0,t=t.replace("[.]",".")),i=e.toString().split(".")[0],s=t.split(".")[1],c=t.indexOf(","),a=(t.split(".")[0].split(",")[0].match(/0/g)||[]).length,s?(i=(h=y._.includes(s,"[")?(s=(s=s.replace("]","")).split("["),y._.toFixed(e,s[0].length+s[1].length,r,s[1].length)):y._.toFixed(e,s.length,r)).split(".")[0],h=y._.includes(h,".")?d.delimiters.decimal+h.split(".")[1]:"",m&&0===Number(h.slice(1))&&(h="")):i=y._.toFixed(e,0,r),f&&!n&&1e3<=Number(i)&&f!==d.abbreviations.trillion)switch(i=String(Number(i)/1e3),f){case d.abbreviations.thousand:f=d.abbreviations.million;break;case d.abbreviations.million:f=d.abbreviations.billion;break;case d.abbreviations.billion:f=d.abbreviations.trillion}if(y._.includes(i,"-")&&(i=i.slice(1),g=!0),i.length<a)for(var v=a-i.length;0<v;v--)i="0"+i;return-1<c&&(i=i.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+d.delimiters.thousands)),0===t.indexOf(".")&&(i=""),u=i+h+(f||""),p?u=(p&&g?"(":"")+u+(p&&g?")":""):0<=l?u=0===l?(g?"-":"+")+u:u+(g?"-":"+"):g&&(u="-"+u),u},stringToNumber:function(e){var t,r,a,n=k[u.currentLocale],o=e,i={thousand:3,million:6,billion:9,trillion:12};if(u.zeroFormat&&e===u.zeroFormat)r=0;else if(u.nullFormat&&e===u.nullFormat||!e.replace(/[^0-9]+/g,"").length)r=null;else{for(t in r=1,"."!==n.delimiters.decimal&&(e=e.replace(/\./g,"").replace(n.delimiters.decimal,".")),i)if(a=new RegExp("[^a-zA-Z]"+n.abbreviations[t]+"(?:\\)|(\\"+n.currency.symbol+")?(?:\\))?)?$"),o.match(a)){r*=Math.pow(10,i[t]);break}r*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1,e=e.replace(/[^0-9\.]+/g,""),r*=Number(e)}return r},isNaN:function(e){return"number"==typeof e&&isNaN(e)},includes:function(e,t){return-1!==e.indexOf(t)},insert:function(e,t,r){return e.slice(0,r)+t+e.slice(r)},reduce:function(e,t){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var r,a=Object(e),n=a.length>>>0,o=0;if(3===arguments.length)r=arguments[2];else{for(;o<n&&!(o in a);)o++;if(n<=o)throw new TypeError("Reduce of empty array with no initial value");r=a[o++]}for(;o<n;o++)o in a&&(r=t(r,a[o],o,a));return r},multiplier:function(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce(function(e,t){var r=o.multiplier(t);return r<e?e:r},1)},toFixed:function(e,t,r,a){var n,o,i,s,l=e.toString().split("."),c=t-(a||0);return n=2===l.length?Math.min(Math.max(l[1].length,c),t):c,i=Math.pow(10,n),s=(r(e+"e+"+n)/i).toFixed(n),t-n<a&&(o=new RegExp("\\.?0{1,"+(a-(t-n))+"}$"),s=s.replace(o,"")),s}},y.options=u,y.formats=s,y.locales=k,y.locale=function(e){return e&&(u.currentLocale=e.toLowerCase()),u.currentLocale},y.localeData=function(e){if(!e)return k[u.currentLocale];if(e=e.toLowerCase(),!k[e])throw new Error("Unknown locale : "+e);return k[e]},y.reset=function(){for(var e in t)u[e]=t[e]},y.zeroFormat=function(e){u.zeroFormat="string"==typeof e?e:null},y.nullFormat=function(e){u.nullFormat="string"==typeof e?e:null},y.defaultFormat=function(e){u.defaultFormat="string"==typeof e?e:"0.0"},y.register=function(e,t,r){if(t=t.toLowerCase(),this[e+"s"][t])throw new TypeError(t+" "+e+" already registered.");return this[e+"s"][t]=r},y.validate=function(e,t){var r,a,n,o,i,s,l,c;if("string"!=typeof e&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),(e=e.trim()).match(/^\d+$/))return!0;if(""===e)return!1;try{l=y.localeData(t)}catch(e){l=y.localeData(y.locale())}return n=l.currency.symbol,i=l.abbreviations,r=l.delimiters.decimal,a="."===l.delimiters.thousands?"\\.":l.delimiters.thousands,(null===(c=e.match(/^[^\d]+/))||(e=e.substr(1),c[0]===n))&&((null===(c=e.match(/[^\d]+$/))||(e=e.slice(0,-1),c[0]===i.thousand||c[0]===i.million||c[0]===i.billion||c[0]===i.trillion))&&(s=new RegExp(a+"{2}"),!e.match(/[^\d.,]/g)&&(!(2<(o=e.split(r)).length)&&(o.length<2?!!o[0].match(/^\d+.*\d$/)&&!o[0].match(s):1===o[0].length?!!o[0].match(/^\d+$/)&&!o[0].match(s)&&!!o[1].match(/^\d+$/):!!o[0].match(/^\d+.*\d$/)&&!o[0].match(s)&&!!o[1].match(/^\d+$/)))))},y.fn=i.prototype={clone:function(){return y(this)},format:function(e,t){var r,a,n,o=this._value,i=e||u.defaultFormat;if(t=t||Math.round,0===o&&null!==u.zeroFormat)a=u.zeroFormat;else if(null===o&&null!==u.nullFormat)a=u.nullFormat;else{for(r in s)if(i.match(s[r].regexps.format)){n=s[r].format;break}a=(n=n||y._.numberToFormat)(o,i,t)}return a},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=Number(e),this},add:function(e){var n=o.correctionFactor.call(null,this._value,e);return this._value=o.reduce([this._value,e],function(e,t,r,a){return e+Math.round(n*t)},0)/n,this},subtract:function(e){var n=o.correctionFactor.call(null,this._value,e);return this._value=o.reduce([e],function(e,t,r,a){return e-Math.round(n*t)},Math.round(this._value*n))/n,this},multiply:function(e){return this._value=o.reduce([this._value,e],function(e,t,r,a){var n=o.correctionFactor(e,t);return Math.round(e*n)*Math.round(t*n)/Math.round(n*n)},1),this},divide:function(e){return this._value=o.reduce([this._value,e],function(e,t,r,a){var n=o.correctionFactor(e,t);return Math.round(e*n)/Math.round(t*n)}),this},difference:function(e){return Math.abs(y(this._value).subtract(e).value())}},y.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),y.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(e,t,r){var a,n=y._.includes(t," BPS")?" ":"";return e*=1e4,t=t.replace(/\s?BPS/,""),a=y._.numberToFormat(e,t,r),a=y._.includes(a,")")?((a=a.split("")).splice(-1,0,n+"BPS"),a.join("")):a+n+"BPS"},unformat:function(e){return+(1e-4*y._.stringToNumber(e)).toFixed(15)}}),c={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},e="("+(e=(l={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(c.suffixes.filter(function(e){return l.suffixes.indexOf(e)<0})).join("|")).replace("B","B(?!PS)")+")",y.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(e)},format:function(e,t,r){var a,n,o,i=y._.includes(t,"ib")?c:l,s=y._.includes(t," b")||y._.includes(t," ib")?" ":"";for(t=t.replace(/\s?i?b/,""),a=0;a<=i.suffixes.length;a++)if(n=Math.pow(i.base,a),o=Math.pow(i.base,a+1),null===e||0===e||n<=e&&e<o){s+=i.suffixes[a],0<n&&(e/=n);break}return y._.numberToFormat(e,t,r)+s},unformat:function(e){var t,r,a=y._.stringToNumber(e);if(a){for(t=l.suffixes.length-1;0<=t;t--){if(y._.includes(e,l.suffixes[t])){r=Math.pow(l.base,t);break}if(y._.includes(e,c.suffixes[t])){r=Math.pow(c.base,t);break}}a*=r||1}return a}}),y.register("format","currency",{regexps:{format:/(\$)/},format:function(e,t,r){var a,n,o=y.locales[y.options.currentLocale],i={before:t.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:t.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(t=t.replace(/\s?\$\s?/,""),a=y._.numberToFormat(e,t,r),0<=e?(i.before=i.before.replace(/[\-\(]/,""),i.after=i.after.replace(/[\-\)]/,"")):e<0&&!y._.includes(i.before,"-")&&!y._.includes(i.before,"(")&&(i.before="-"+i.before),n=0;n<i.before.length;n++)switch(i.before[n]){case"$":a=y._.insert(a,o.currency.symbol,n);break;case" ":a=y._.insert(a," ",n+o.currency.symbol.length-1)}for(n=i.after.length-1;0<=n;n--)switch(i.after[n]){case"$":a=n===i.after.length-1?a+o.currency.symbol:y._.insert(a,o.currency.symbol,-(i.after.length-(1+n)));break;case" ":a=n===i.after.length-1?a+" ":y._.insert(a," ",-(i.after.length-(1+n)+o.currency.symbol.length-1))}return a}}),y.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(e,t,r){var a=("number"!=typeof e||y._.isNaN(e)?"0e+0":e.toExponential()).split("e");return t=t.replace(/e[\+|\-]{1}0/,""),y._.numberToFormat(Number(a[0]),t,r)+"e"+a[1]},unformat:function(e){var t=y._.includes(e,"e+")?e.split("e+"):e.split("e-"),r=Number(t[0]),a=Number(t[1]);return a=y._.includes(e,"e-")?a*=-1:a,y._.reduce([r,Math.pow(10,a)],function(e,t,r,a){var n=y._.correctionFactor(e,t);return e*n*(t*n)/(n*n)},1)}}),y.register("format","ordinal",{regexps:{format:/(o)/},format:function(e,t,r){var a=y.locales[y.options.currentLocale],n=y._.includes(t," o")?" ":"";return t=t.replace(/\s?o/,""),n+=a.ordinal(e),y._.numberToFormat(e,t,r)+n}}),y.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(e,t,r){var a,n=y._.includes(t," %")?" ":"";return y.options.scalePercentBy100&&(e*=100),t=t.replace(/\s?\%/,""),a=y._.numberToFormat(e,t,r),a=y._.includes(a,")")?((a=a.split("")).splice(-1,0,n+"%"),a.join("")):a+n+"%"},unformat:function(e){var t=y._.stringToNumber(e);return y.options.scalePercentBy100?.01*t:t}}),y.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e,t,r){var a=Math.floor(e/60/60),n=Math.floor((e-60*a*60)/60),o=Math.round(e-60*a*60-60*n);return a+":"+(n<10?"0"+n:n)+":"+(o<10?"0"+o:o)},unformat:function(e){var t=e.split(":"),r=0;return 3===t.length?(r+=60*Number(t[0])*60,r+=60*Number(t[1]),r+=Number(t[2])):2===t.length&&(r+=60*Number(t[0]),r+=Number(t[1])),Number(r)}}),y}),function(o,p,m){var s=[],l=[],e={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var r=this;setTimeout(function(){t(r[e])},0)},addTest:function(e,t,r){l.push({name:e,fn:t,options:r})},addAsyncTest:function(e){l.push({name:null,fn:e})}},c=function(){};function f(e,t){return typeof e===t}c.prototype=e,c=new c;var h=p.documentElement,g="svg"===h.nodeName.toLowerCase();function v(){return"function"!=typeof p.createElement?p.createElement(arguments[0]):g?p.createElementNS.call(p,"http://www.w3.org/2000/svg",arguments[0]):p.createElement.apply(p,arguments)}c.addTest("canvas",function(){var e=v("canvas");return!(!e.getContext||!e.getContext("2d"))});var t="Moz O ms Webkit",u=e._config.usePrefixes?t.split(" "):[];e._cssomPrefixes=u;var d=e._config.usePrefixes?t.toLowerCase().split(" "):[];function y(e,t){return function(){return e.apply(t,arguments)}}e._domPrefixes=d;var r={elem:v("modernizr")};c._q.push(function(){delete r.elem});var k={style:r.elem.style};function n(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function i(e,t,r,a){var n,o,i,s,l,c="modernizr",u=v("div"),d=((l=p.body)||((l=v(g?"svg":"body")).fake=!0),l);if(parseInt(r,10))for(;r--;)(i=v("div")).id=a?a[r]:c+(r+1),u.appendChild(i);return(n=v("style")).type="text/css",n.id="s"+c,(d.fake?d:u).appendChild(n),d.appendChild(u),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(p.createTextNode(e)),u.id=c,d.fake&&(d.style.background="",d.style.overflow="hidden",s=h.style.overflow,h.style.overflow="hidden",h.appendChild(d)),o=t(u,e),d.fake?(d.parentNode.removeChild(d),h.style.overflow=s,h.offsetHeight):u.parentNode.removeChild(u),!!o}function b(e,t){var r=e.length;if("CSS"in o&&"supports"in o.CSS){for(;r--;)if(o.CSS.supports(n(e[r]),t))return!0;return!1}if("CSSSupportsRule"in o){for(var a=[];r--;)a.push("("+n(e[r])+":"+t+")");return i("@supports ("+(a=a.join(" or "))+") { #modernizr { position: absolute; } }",function(e){return"absolute"==function(e,t,r){var a;if("getComputedStyle"in o){a=getComputedStyle.call(o,e,t);var n=o.console;null!==a?r&&(a=a.getPropertyValue(r)):n&&n[n.error?"error":"log"].call(n,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else a=!t&&e.currentStyle&&e.currentStyle[r];return a}(e,null,"position")})}return m}function a(e,t,r,a,n){var o=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+u.join(o+" ")+o).split(" ");return f(t,"string")||f(t,"undefined")?function(e,t,r,a){if(a=!f(a,"undefined")&&a,!f(r,"undefined")){var n=b(e,r);if(!f(n,"undefined"))return n}for(var o,i,s,l,c,u=["modernizr","tspan","samp"];!k.style&&u.length;)o=!0,k.modElem=v(u.shift()),k.style=k.modElem.style;function d(){o&&(delete k.style,delete k.modElem)}for(s=e.length,i=0;i<s;i++)if(l=e[i],c=k.style[l],~(""+l).indexOf("-")&&(l=l.replace(/([a-z])-([a-z])/g,function(e,t,r){return t+r.toUpperCase()}).replace(/^-/,"")),k.style[l]!==m){if(a||f(r,"undefined"))return d(),"pfx"!=t||l;try{k.style[l]=r}catch(e){}if(k.style[l]!=c)return d(),"pfx"!=t||l}return d(),!1}(i,t,a,n):function(e,t,r){var a;for(var n in e)if(e[n]in t)return!1===r?e[n]:f(a=t[e[n]],"function")?y(a,r||t):a;return!1}(i=(e+" "+d.join(o+" ")+o).split(" "),t,r)}function w(e,t,r){return a(e,m,m,t,r)}c._q.unshift(function(){delete k.style}),e.testAllProps=a,e.testAllProps=w,c.addTest("flexbox",w("flexBasis","1px",!0)),function(){var e,t,r,a,n,o;for(var i in l)if(l.hasOwnProperty(i)){if(e=[],(t=l[i]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(r=0;r<t.options.aliases.length;r++)e.push(t.options.aliases[r].toLowerCase());for(a=f(t.fn,"function")?t.fn():t.fn,n=0;n<e.length;n++)1===(o=e[n].split(".")).length?c[o[0]]=a:(!c[o[0]]||c[o[0]]instanceof Boolean||(c[o[0]]=new Boolean(c[o[0]])),c[o[0]][o[1]]=a),s.push((a?"":"no-")+o.join("-"))}}(),function(e){var t=h.className,r=c._config.classPrefix||"";if(g&&(t=t.baseVal),c._config.enableJSClass){var a=new RegExp("(^|\\s)"+r+"no-js(\\s|$)");t=t.replace(a,"$1"+r+"js$2")}c._config.enableClasses&&(t+=" "+r+e.join(" "+r),g?h.className.baseVal=t:h.className=t)}(s),delete e.addTest,delete e.addAsyncTest;for(var x=0;x<c._q.length;x++)c._q[x]();o.Modernizr=c}(window,document),function(e){"function"==typeof define&&define.amd?define(["./dependencyLibs/inputmask.dependencyLib","./global/window","./global/document"],e):"object"==typeof exports?module.exports=e(require("./dependencyLibs/inputmask.dependencyLib"),require("./global/window"),require("./global/document")):window.Inputmask=e(window.dependencyLib||jQuery,window,document)}(function(J,Z,Y,X){function ee(e,t,r){if(!(this instanceof ee))return new ee(e,t,r);this.el=X,this.events={},this.maskset=X,!(this.refreshValue=!1)!==r&&(J.isPlainObject(e)?t=e:(t=t||{}).alias=e,this.opts=J.extend(!0,{},this.defaults,t),this.noMasksCache=t&&t.definitions!==X,this.userOptions=t||{},this.isRTL=this.opts.numericInput,u(this.opts.alias,t,this.opts))}function u(e,t,r){var a=ee.prototype.aliases[e];return a?(a.alias&&u(a.alias,X,r),J.extend(!0,r,a),J.extend(!0,r,t),!0):(null===r.mask&&(r.mask=e),!1)}function o(r,s){function e(e,t,r){var a=!1;if(null!==e&&""!==e||(e=(a=null!==r.regex)?(e=r.regex).replace(/^(\^)(.*)(\$)$/,"$2"):(a=!0,".*")),1===e.length&&!1===r.greedy&&0!==r.repeat&&(r.placeholder=""),0<r.repeat||"*"===r.repeat||"+"===r.repeat){var n="*"===r.repeat?0:"+"===r.repeat?1:r.repeat;e=r.groupmarker.start+e+r.groupmarker.end+r.quantifiermarker.start+n+","+r.repeat+r.quantifiermarker.end}var o,i=a?"regex_"+r.regex:r.numericInput?e.split("").reverse().join(""):e;return ee.prototype.masksCache[i]===X||!0===s?(o={mask:e,maskToken:ee.prototype.analyseMask(e,a,r),validPositions:{},_buffer:X,buffer:X,tests:{},metadata:t,maskLength:X},!0!==s&&(ee.prototype.masksCache[i]=o,o=J.extend(!0,{},ee.prototype.masksCache[i]))):o=J.extend(!0,{},ee.prototype.masksCache[i]),o}if(J.isFunction(r.mask)&&(r.mask=r.mask(r)),J.isArray(r.mask)){if(1<r.mask.length){r.keepStatic=null===r.keepStatic||r.keepStatic;var a=r.groupmarker.start;return J.each(r.numericInput?r.mask.reverse():r.mask,function(e,t){1<a.length&&(a+=r.groupmarker.end+r.alternatormarker+r.groupmarker.start),t.mask===X||J.isFunction(t.mask)?a+=t:a+=t.mask}),e(a+=r.groupmarker.end,r.mask,r)}r.mask=r.mask.pop()}return r.mask&&r.mask.mask!==X&&!J.isFunction(r.mask.mask)?e(r.mask.mask,r.mask,r):e(r.mask,r.mask,r)}function te(e,t,G){function n(e,t,r){t=t||0;for(var a,n,o,i=[],s=0,l=_();!0===e&&V().validPositions[s]?(n=(o=V().validPositions[s]).match,a=o.locator.slice(),i.push(!0===r?o.input:!1===r?n.nativeDef:A(s,n))):(n=(o=b(s,a,s-1)).match,a=o.locator.slice(),(!1===G.jitMasking||s<l||"number"==typeof G.jitMasking&&isFinite(G.jitMasking)&&G.jitMasking>s)&&i.push(!1===r?n.nativeDef:A(s,n))),s++,(j===X||s<j)&&(null!==n.fn||""!==n.def)||s<t;);return""===i[i.length-1]&&i.pop(),V().maskLength=s+1,i}function V(){return t}function C(e){var t=V();t.buffer=X,!0!==e&&(t.validPositions={},t.p=0)}function _(e,t,r){var a=-1,n=-1,o=r||V().validPositions;for(var i in e===X&&(e=-1),o){var s=parseInt(i);o[s]&&(t||!0!==o[s].generatedInput)&&(s<=e&&(a=s),e<=s&&(n=s))}return-1!==a&&1<e-a||n<e?a:n}function k(e,t,r,a){var n,o=e,i=J.extend(!0,{},V().validPositions),s=!1;for(V().p=e,n=t-1;o<=n;n--)V().validPositions[n]!==X&&(!0!==r&&(!V().validPositions[n].match.optionality&&function(e){var t=V().validPositions[e];if(t===X||null!==t.match.fn)return!1;var r=V().validPositions[e-1],a=V().validPositions[e+1];return r!==X&&a!==X}(n)||!1===G.canClearPosition(V(),n,_(),a,G))||delete V().validPositions[n]);for(C(!0),n=o+1;n<=_();){for(;V().validPositions[o]!==X;)o++;if(n<o&&(n=o+1),V().validPositions[n]===X&&M(n))n++;else{var l=b(n);!1===s&&i[o]&&i[o].match.def===l.match.def?(V().validPositions[o]=J.extend(!0,{},i[o]),V().validPositions[o].input=l.input,delete V().validPositions[n],n++):w(o,l.match.def)?!1!==E(o,l.input||A(n),!0)&&(delete V().validPositions[n],n++,s=!0):M(n)||(n++,o--),o++}}C(!0)}function m(e,t){for(var r,a=e,n=_(),o=V().validPositions[n]||S(0)[0],i=o.alternation!==X?o.locator[o.alternation].toString().split(","):[],s=0;s<a.length&&(!((r=a[s]).match&&(G.greedy&&!0!==r.match.optionalQuantifier||(!1===r.match.optionality||!1===r.match.newBlockMarker)&&!0!==r.match.optionalQuantifier)&&(o.alternation===X||o.alternation!==r.alternation||r.locator[o.alternation]!==X&&f(r.locator[o.alternation].toString().split(","),i)))||!0===t&&(null!==r.match.fn||/[0-9a-bA-Z]/.test(r.match.def)));s++);return r}function b(e,t,r){return V().validPositions[e]||m(S(e,t?t.slice():t,r))}function v(e){return V().validPositions[e]?V().validPositions[e]:S(e)[0]}function w(e,t){for(var r=!1,a=S(e),n=0;n<a.length;n++)if(a[n].match&&a[n].match.def===t){r=!0;break}return r}function S(j,e,t){function O(A,R,e,t){function F(e,r,t){function o(r,a){var n=0===J.inArray(r,a.matches);return n||J.each(a.matches,function(e,t){if(!0===t.isQuantifier&&(n=o(r,a.matches[e-1])))return!1}),n}function l(e,n,o){var i,s;if(V().validPositions[e-1]&&o&&V().tests[e])for(var t=V().validPositions[e-1].locator,r=V().tests[e][0].locator,a=0;a<o;a++)if(t[a]!==r[a])return t.slice(o+1);return(V().tests[e]||V().validPositions[e])&&J.each(V().tests[e]||[V().validPositions[e]],function(e,t){var r=o!==X?o:t.alternation,a=t.locator[r]!==X?t.locator[r].toString().indexOf(n):-1;(s===X||a<s)&&-1!==a&&(i=t,s=a)}),i?i.locator.slice((o!==X?o:i.alternation)+1):o!==X?l(e,n):X}if(1e4<N)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+V().mask;if(N===j&&e.matches===X)return L.push({match:e,locator:r.reverse(),cd:U}),!0;if(e.matches!==X){if(e.isGroup&&t!==e){if(e=F(A.matches[J.inArray(e,A.matches)+1],r))return!0}else if(e.isOptional){var a=e;if(e=O(e,R,r,t)){if(!o(I=L[L.length-1].match,a))return!0;B=!0,N=j}}else if(e.isAlternator){var n,i=e,s=[],c=L.slice(),u=r.length,d=0<R.length?R.shift():-1;if(-1===d||"string"==typeof d){var p,m=N,f=R.slice(),h=[];if("string"==typeof d)h=d.split(",");else for(p=0;p<i.matches.length;p++)h.push(p);for(var g=0;g<h.length;g++){if(p=parseInt(h[g]),L=[],R=l(N,p,u)||f.slice(),!0!==(e=F(i.matches[p]||A.matches[p],[p].concat(r),t)||e)&&e!==X&&h[h.length-1]<i.matches.length){var v=J.inArray(e,A.matches)+1;A.matches.length>v&&(e=F(A.matches[v],[v].concat(r.slice(1,r.length)),t))&&(h.push(v.toString()),J.each(L,function(e,t){t.alternation=r.length-1}))}n=L.slice(),N=m,L=[];for(var y=0;y<n.length;y++){var k=n[y],b=!1;k.alternation=k.alternation||u;for(var w=0;w<s.length;w++){var x=s[w];if("string"!=typeof d||-1!==J.inArray(k.locator[k.alternation].toString(),h)){if(D=x,(T=k).match.nativeDef===D.match.nativeDef||T.match.def===D.match.nativeDef||T.match.nativeDef===D.match.def){b=!0,k.alternation===x.alternation&&-1===x.locator[x.alternation].toString().indexOf(k.locator[k.alternation])&&(x.locator[x.alternation]=x.locator[x.alternation]+","+k.locator[k.alternation],x.alternation=k.alternation),k.match.nativeDef===x.match.def&&(k.locator[k.alternation]=x.locator[x.alternation],s.splice(s.indexOf(x),1,k));break}if(k.match.def===x.match.def){b=!1;break}if(M=x,null===(E=k).match.fn&&null!==M.match.fn&&M.match.fn.test(E.match.def,V(),j,!1,G,!1)||(K=x,null!==(P=k).match.fn&&null!==K.match.fn&&K.match.fn.test(P.match.def.replace(/[\[\]]/g,""),V(),j,!1,G,!1))){k.alternation===x.alternation&&-1===k.locator[k.alternation].toString().indexOf(x.locator[x.alternation].toString().split("")[0])&&(k.na=k.na||k.locator[k.alternation].toString(),-1===k.na.indexOf(k.locator[k.alternation].toString().split("")[0])&&(k.na=k.na+","+k.locator[x.alternation].toString().split("")[0]),b=!0,k.locator[k.alternation]=x.locator[x.alternation].toString().split("")[0]+","+k.locator[k.alternation],s.splice(s.indexOf(x),0,k));break}}}b||s.push(k)}}"string"==typeof d&&(s=J.map(s,function(e,t){if(isFinite(t)){var r=e.alternation,a=e.locator[r].toString().split(",");e.locator[r]=X,e.alternation=X;for(var n=0;n<a.length;n++)-1!==J.inArray(a[n],h)&&(e.locator[r]!==X?(e.locator[r]+=",",e.locator[r]+=a[n]):e.locator[r]=parseInt(a[n]),e.alternation=r);if(e.locator[r]!==X)return e}})),L=c.concat(s),N=j,B=0<L.length,e=0<s.length,R=f.slice()}else e=F(i.matches[d]||A.matches[d],[d].concat(r),t);if(e)return!0}else if(e.isQuantifier&&t!==A.matches[J.inArray(e,A.matches)-1])for(var C=e,_=0<R.length?R.shift():0;_<(isNaN(C.quantifier.max)?_+1:C.quantifier.max)&&N<=j;_++){var S=A.matches[J.inArray(C,A.matches)-1];if(e=F(S,[_].concat(r),S)){if((I=L[L.length-1].match).optionalQuantifier=_>C.quantifier.min-1,o(I,S)){if(_>C.quantifier.min-1){B=!0,N=j;break}return!0}return!0}}else if(e=O(e,R,r,t))return!0}else N++;var P,K,E,M,T,D}for(var r=0<R.length?R.shift():0;r<A.matches.length;r++)if(!0!==A.matches[r].isQuantifier){var a=F(A.matches[r],[r].concat(e),t);if(a&&N===j)return a;if(j<N)break}}function r(e){if(G.keepStatic&&0<j&&e.length>1+(""===e[e.length-1].match.def?1:0)&&!0!==e[0].match.optionality&&!0!==e[0].match.optionalQuantifier&&null===e[0].match.fn&&!/[0-9a-bA-Z]/.test(e[0].match.def)){if(V().validPositions[j-1]===X)return[m(e)];if(V().validPositions[j-1].alternation===e[0].alternation)return[m(e)];if(V().validPositions[j-1])return[m(e)]}return e}var I,a,n,o=V().maskToken,N=e?t:0,i=e?e.slice():[0],L=[],B=!1,U=e?e.join(""):"";if(-1<j){if(e===X){for(var s,l=j-1;(s=V().validPositions[l]||V().tests[l])===X&&-1<l;)l--;s!==X&&-1<l&&(a=s,n=[],J.isArray(a)||(a=[a]),0<a.length&&(a[0].alternation===X?0===(n=m(a.slice()).locator.slice()).length&&(n=a[0].locator.slice()):J.each(a,function(e,t){if(""!==t.def)if(0===n.length)n=t.locator.slice();else for(var r=0;r<n.length;r++)t.locator[r]&&-1===n[r].toString().indexOf(t.locator[r])&&(n[r]+=","+t.locator[r])})),U=(i=n).join(""),N=l)}if(V().tests[j]&&V().tests[j][0].cd===U)return r(V().tests[j]);for(var c=i.shift();c<o.length&&!(O(o[c],i,[c])&&N===j||j<N);c++);}return(0===L.length||B)&&L.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:"",placeholder:""},locator:[],cd:U}),e!==X&&V().tests[j]?r(J.extend(!0,[],L)):(V().tests[j]=J.extend(!0,[],L),r(V().tests[j]))}function y(){return V()._buffer===X&&(V()._buffer=n(!1,1),V().buffer===X&&(V().buffer=V()._buffer.slice())),V()._buffer}function P(e){return V().buffer!==X&&!0!==e||(V().buffer=n(!0,_(),!0)),V().buffer}function K(e,t,r){var a,n;if(!0===e)C(),e=0,t=r.length;else for(a=e;a<t;a++)delete V().validPositions[a];for(a=n=e;a<t;a++)if(C(!0),r[a]!==G.skipOptionalPartCharacter){var o=E(n,r[a],!0,!0);!1!==o&&(C(!0),n=o.caret!==X?o.caret:o.pos+1)}}function f(e,t,r){for(var a,n=G.greedy?t:t.slice(0,1),o=!1,i=r!==X?r.split(","):[],s=0;s<i.length;s++)-1!==(a=e.indexOf(i[s]))&&e.splice(a,1);for(var l=0;l<e.length;l++)if(-1!==J.inArray(e[l],n)){o=!0;break}return o}function E(h,e,t,x,r,a){function g(e){var t=N?1<e.begin-e.end||e.begin-e.end==1:1<e.end-e.begin||e.end-e.begin==1;return t&&0===e.begin&&e.end===V().maskLength?"full":t}function o(d,p,m){var f=!1;return J.each(S(d),function(e,t){for(var r=t.match,a=p?1:0,n="",o=r.cardinality;a<o;o--)n+=(i=d-(o-1),V().validPositions[i]===X?A(i):V().validPositions[i].input);var i;if(p&&(n+=p),P(!0),!1!==(f=null!=r.fn?r.fn.test(n,V(),d,m,G,g(h)):(p===r.def||p===G.skipOptionalPartCharacter)&&""!==r.def&&{c:A(d,r,!0)||r.def,pos:d})){var s=f.c!==X?f.c:p;s=s===G.skipOptionalPartCharacter&&null===r.fn?A(d,r,!0)||r.def:s;var l=d,c=P();if(f.remove!==X&&(J.isArray(f.remove)||(f.remove=[f.remove]),J.each(f.remove.sort(function(e,t){return t-e}),function(e,t){k(t,t+1,!0)})),f.insert!==X&&(J.isArray(f.insert)||(f.insert=[f.insert]),J.each(f.insert.sort(function(e,t){return e-t}),function(e,t){E(t.pos,t.c,!0,x)})),f.refreshFromBuffer){var u=f.refreshFromBuffer;if(K(!0===u?u:u.start,u.end,c),f.pos===X&&f.c===X)return f.pos=_(),!1;if((l=f.pos!==X?f.pos:d)!==d)return f=J.extend(f,E(l,s,!0,x)),!1}else if(!0!==f&&f.pos!==X&&f.pos!==d&&(l=f.pos,K(d,l,P().slice()),l!==d))return f=J.extend(f,E(l,s,!0)),!1;return(!0===f||f.pos!==X||f.c!==X)&&(0<e&&C(!0),v(l,J.extend({},t,{input:function(e,t,r){switch(G.casing||t.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break;case"title":var a=V().validPositions[r-1];e=0===r||a&&a.input===String.fromCharCode(ee.keyCode.SPACE)?e.toUpperCase():e.toLowerCase();break;default:if(J.isFunction(G.casing)){var n=Array.prototype.slice.call(arguments);n.push(V().validPositions),e=G.casing.apply(this,n)}}return e}(s,r,l)}),x,g(h))||(f=!1),!1)}}),f}function v(e,t,r,a){if(a||G.insertMode&&V().validPositions[e]!==X&&r===X){var n,o=J.extend(!0,{},V().validPositions),i=_(X,!0);for(n=e;n<=i;n++)delete V().validPositions[n];V().validPositions[e]=J.extend(!0,{},t);var s,l=!0,c=V().validPositions,u=!1,d=V().maskLength;for(n=s=e;n<=i;n++){var p=o[n];if(p!==X)for(var m=s;m<V().maskLength&&(null===p.match.fn&&c[n]&&(!0===c[n].match.optionalQuantifier||!0===c[n].match.optionality)||null!=p.match.fn);){if(m++,!1===u&&o[m]&&o[m].match.def===p.match.def)V().validPositions[m]=J.extend(!0,{},o[m]),V().validPositions[m].input=p.input,y(m),s=m,l=!0;else if(w(m,p.match.def)){var f=E(m,p.input,!0,!0);l=!1!==f,s=f.caret||f.insert?_():m,u=!0}else if(!(l=!0===p.generatedInput)&&m>=V().maskLength-1)break;if(V().maskLength<d&&(V().maskLength=d),l)break}if(!l)break}if(!l)return V().validPositions=J.extend(!0,{},o),C(!0),!1}else V().validPositions[e]=J.extend(!0,{},t);return C(!0),!0}function y(e){for(var t=e-1;-1<t&&!V().validPositions[t];t--);var r,a;for(t++;t<e;t++)V().validPositions[t]===X&&(!1===G.jitMasking||G.jitMasking>t)&&(""===(a=S(t,b(t-1).locator,t-1).slice())[a.length-1].match.def&&a.pop(),(r=m(a))&&(r.match.def===G.radixPointDefinitionSymbol||!M(t,!0)||J.inArray(G.radixPoint,P())<t&&r.match.fn&&r.match.fn.test(A(t),V(),t,!1,G))&&!1!==(i=o(t,A(t,r.match,!0)||(null==r.match.fn?r.match.def:""!==A(t)?A(t):P()[t]),!0))&&(V().validPositions[i.pos||t].generatedInput=!0))}t=!0===t;var n=h;h.begin!==X&&(n=N&&!g(h)?h.end:h.begin);var i=!0,s=J.extend(!0,{},V().validPositions);if(J.isFunction(G.preValidation)&&!t&&!0!==x&&!0!==a&&(i=G.preValidation(P(),n,e,g(h),G)),!0===i){if(y(n),g(h)&&(R(X,ee.keyCode.DELETE,h,!0,!0),n=V().p),n<V().maskLength&&(j===X||n<j)&&(i=o(n,e,t),(!t||!0===x)&&!1===i&&!0!==a)){var l=V().validPositions[n];if(!l||null!==l.match.fn||l.match.def!==e&&e!==G.skipOptionalPartCharacter){if((G.insertMode||V().validPositions[T(n)]===X)&&!M(n,!0))for(var c=n+1,u=T(n);c<=u;c++)if(!1!==(i=o(c,e,t))){!function(e,t){var r=V().validPositions[t];if(r)for(var i=r.locator,s=i.length,a=e;a<t;a++)if(V().validPositions[a]===X&&!M(a,!0)){var n=S(a).slice(),l=m(n,!0),c=-1;""===n[n.length-1].match.def&&n.pop(),J.each(n,function(e,t){for(var r=0;r<s;r++){if(t.locator[r]===X||!f(t.locator[r].toString().split(","),i[r].toString().split(","),t.na)){var a=i[r],n=l.locator[r],o=t.locator[r];a-n>Math.abs(a-o)&&(l=t);break}c<r&&(c=r,l=t)}}),(l=J.extend({},l,{input:A(a,l.match,!0)||l.match.def})).generatedInput=!0,v(a,l,!0),V().validPositions[t]=X,o(t,r.input,!0)}}(n,i.pos!==X?i.pos:c),n=c;break}}else i={caret:T(n)}}!1===i&&G.keepStatic&&!t&&!0!==r&&(i=function(u,d,p){var e,m,t,r,f,h,g,v,y=J.extend(!0,{},V().validPositions),k=!1,a=_();for(r=V().validPositions[a];0<=a;a--)if((t=V().validPositions[a])&&t.alternation!==X){if(e=a,m=V().validPositions[e].alternation,r.locator[t.alternation]!==t.locator[t.alternation])break;r=t}if(m!==X){v=parseInt(e);var b=r.locator[r.alternation||m]!==X?r.locator[r.alternation||m]:g[0];0<b.length&&(b=b.split(",")[0]);var w=V().validPositions[v],n=V().validPositions[v-1];J.each(S(v,n?n.locator:X,v-1),function(e,t){g=t.locator[m]?t.locator[m].toString().split(","):[];for(var r=0;r<g.length;r++){var a=[],n=0,o=0,i=!1;if(b<g[r]&&(t.na===X||-1===J.inArray(g[r],t.na.split(","))||-1===J.inArray(b.toString(),g))){V().validPositions[v]=J.extend(!0,{},t);var s=V().validPositions[v].locator;for(V().validPositions[v].locator[m]=parseInt(g[r]),null==t.match.fn?(w.input!==t.match.def&&((i=!0)!==w.generatedInput&&a.push(w.input)),o++,V().validPositions[v].generatedInput=!/[0-9a-bA-Z]/.test(t.match.def),V().validPositions[v].input=t.match.def):V().validPositions[v].input=w.input,f=v+1;f<_(X,!0)+1;f++)(h=V().validPositions[f])&&!0!==h.generatedInput&&/[0-9a-bA-Z]/.test(h.input)?a.push(h.input):f<u&&n++,delete V().validPositions[f];for(i&&a[0]===t.match.def&&a.shift(),C(!0),k=!0;0<a.length;){var l=a.shift();if(l!==G.skipOptionalPartCharacter&&!(k=E(_(X,!0)+1,l,!1,x,!0)))break}if(k){V().validPositions[v].locator=s;var c=_(u)+1;for(f=v+1;f<_()+1;f++)((h=V().validPositions[f])===X||null==h.match.fn)&&f<u+(o-n)&&o++;k=E((u+=o-n)>c?c:u,d,p,x,!0)}if(k)return!1;C(),V().validPositions=J.extend(!0,{},y)}}})}return k}(n,e,t)),!0===i&&(i={pos:n})}if(J.isFunction(G.postValidation)&&!1!==i&&!t&&!0!==x&&!0!==a){var d=G.postValidation(P(!0),i,G);if(d.refreshFromBuffer&&d.buffer){var p=d.refreshFromBuffer;K(!0===p?p:p.start,p.end,d.buffer)}i=!0===d?i:d}return i&&i.pos===X&&(i.pos=n),!1!==i&&!0!==a||(C(!0),V().validPositions=J.extend(!0,{},s)),i}function M(e,t){var r=b(e).match;if(""===r.def&&(r=v(e).match),null!=r.fn)return r.fn;if(!0!==t&&-1<e){var a=S(e);return a.length>1+(""===a[a.length-1].match.def?1:0)}return!1}function T(e,t){var r=V().maskLength;if(r<=e)return r;var a=e;for(1<S(r+1).length&&(n(!0,r+1,!0),r=V().maskLength);++a<r&&(!0===t&&(!0!==v(a).match.newBlockMarker||!M(a))||!0!==t&&!M(a)););return a}function x(e,t){var r,a=e;if(a<=0)return 0;for(;0<--a&&(!0===t&&!0!==v(a).match.newBlockMarker||!0!==t&&!M(a)&&((r=S(a)).length<2||2===r.length&&""===r[1].match.def)););return a}function D(e,t,r,a,n){if(a&&J.isFunction(G.onBeforeWrite)){var o=G.onBeforeWrite.call(I,a,t,r,G);if(o){if(o.refreshFromBuffer){var i=o.refreshFromBuffer;K(!0===i?i:i.start,i.end,o.buffer||t),t=P(!0)}r!==X&&(r=o.caret!==X?o.caret:r)}}e!==X&&(e.inputmask._valueSet(t.join("")),r===X||a!==X&&"blur"===a.type?d(e,r,0===t.length):oe&&a&&"input"===a.type?setTimeout(function(){h(e,r)},0):h(e,r),!0===n&&(L=!0,J(e).trigger("input")))}function A(e,t,r){if((t=t||v(e).match).placeholder!==X||!0===r)return J.isFunction(t.placeholder)?t.placeholder(G):t.placeholder;if(null!==t.fn)return G.placeholder.charAt(e%G.placeholder.length);if(-1<e&&V().validPositions[e]===X){var a,n=S(e),o=[];if(n.length>1+(""===n[n.length-1].match.def?1:0))for(var i=0;i<n.length;i++)if(!0!==n[i].match.optionality&&!0!==n[i].match.optionalQuantifier&&(null===n[i].match.fn||a===X||!1!==n[i].match.fn.test(a.match.def,V(),e,!0,G))&&(o.push(n[i]),null===n[i].match.fn&&(a=n[i]),1<o.length&&/[0-9a-bA-Z]/.test(o[0].match.def)))return G.placeholder.charAt(e%G.placeholder.length)}return t.def}function u(d,e,p,t,r){var m=t.slice(),f="",h=-1,g=X;if(C(),p||!0===G.autoUnmask)h=T(h);else{var a=y().slice(0,T(-1)).join(""),n=m.join("").match(new RegExp("^"+ee.escapeRegex(a),"g"));n&&0<n.length&&(m.splice(0,n.length*a.length),h=T(h))}if(-1===h?(V().p=T(h),h=0):V().p=h,J.each(m,function(e,t){if(t!==X)if(V().validPositions[e]===X&&m[e]===A(e)&&M(e,!0)&&!1===E(e,m[e],!0,X,X,!0))V().p++;else{var r=new J.Event("_checkval");r.which=t.charCodeAt(0),f+=t;var a=_(X,!0),n=V().validPositions[a],o=b(a+1,n?n.locator.slice():X,a);if(c=h,u=f,-1===y().slice(c,T(c)).join("").indexOf(u)||M(c)||v(c).match.nativeDef!==u.charAt(u.length-1)||p||G.autoUnmask){var i=p?e:null==o.match.fn&&o.match.optionality&&a+1<V().p?a+1:V().p;g=q.keypressEvent.call(d,r,!0,!1,p,i),h=i+1,f=""}else g=q.keypressEvent.call(d,r,!0,!1,!0,a+1);if(!1!==g&&!p&&J.isFunction(G.onBeforeWrite)){var s=g;if(g=G.onBeforeWrite.call(I,r,P(),g.forwardPosition,G),(g=J.extend(s,g))&&g.refreshFromBuffer){var l=g.refreshFromBuffer;K(!0===l?l:l.start,l.end,g.buffer),C(!0),g.caret&&(V().p=g.caret,g.forwardPosition=g.caret)}}}var c,u}),e){var o=X;Y.activeElement===d&&g&&(o=G.numericInput?x(g.forwardPosition):g.forwardPosition),D(d,P(),o,r||new J.Event("checkval"),r&&"input"===r.type)}}function r(e){if(e){if(e.inputmask===X)return e.value;e.inputmask&&e.inputmask.refreshValue&&q.setValueEvent.call(e)}var t=[],r=V().validPositions;for(var a in r)r[a].match&&null!=r[a].match.fn&&t.push(r[a].input);var n=0===t.length?"":(N?t.reverse():t).join("");if(J.isFunction(G.onUnMask)){var o=(N?P().slice().reverse():P()).join("");n=G.onUnMask.call(I,o,n,G)}return n}function h(e,t,r,a){function n(e){return!0===a||!N||"number"!=typeof e||G.greedy&&""===G.placeholder||(e=P().join("").length-e),e}var o;if(t===X)return e.setSelectionRange?(t=e.selectionStart,r=e.selectionEnd):Z.getSelection?(o=Z.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==e&&o.commonAncestorContainer!==e||(t=o.startOffset,r=o.endOffset):Y.selection&&Y.selection.createRange&&(r=(t=0-(o=Y.selection.createRange()).duplicate().moveStart("character",-e.inputmask._valueGet().length))+o.text.length),{begin:n(t),end:n(r)};if(t.begin!==X&&(r=t.end,t=t.begin),"number"==typeof t){t=n(t),r="number"==typeof(r=n(r))?r:t;var i=parseInt(((e.ownerDocument.defaultView||Z).getComputedStyle?(e.ownerDocument.defaultView||Z).getComputedStyle(e,null):e.currentStyle).fontSize)*r;if(e.scrollLeft=i>e.scrollWidth?i:0,re||!1!==G.insertMode||t!==r||r++,e.setSelectionRange)e.selectionStart=t,e.selectionEnd=r;else if(Z.getSelection){if(o=Y.createRange(),e.firstChild===X||null===e.firstChild){var s=Y.createTextNode("");e.appendChild(s)}o.setStart(e.firstChild,t<e.inputmask._valueGet().length?t:e.inputmask._valueGet().length),o.setEnd(e.firstChild,r<e.inputmask._valueGet().length?r:e.inputmask._valueGet().length),o.collapse(!0);var l=Z.getSelection();l.removeAllRanges(),l.addRange(o)}else e.createTextRange&&((o=e.createTextRange()).collapse(!0),o.moveEnd("character",r),o.moveStart("character",t),o.select());d(e,{begin:t,end:r})}}function i(e){var t,r,a=P(),n=a.length,o=_(),i={},s=V().validPositions[o],l=s!==X?s.locator.slice():X;for(t=o+1;t<a.length;t++)l=(r=b(t,l,t-1)).locator.slice(),i[t]=J.extend(!0,{},r);var c=s&&s.alternation!==X?s.locator[s.alternation]:X;for(t=n-1;o<t&&((r=i[t]).match.optionality||r.match.optionalQuantifier&&r.match.newBlockMarker||c&&(c!==i[t].locator[s.alternation]&&null!=r.match.fn||null===r.match.fn&&r.locator[s.alternation]&&f(r.locator[s.alternation].toString().split(","),c.toString().split(","))&&""!==S(t)[0].def))&&a[t]===A(t,r.match);t--)n--;return e?{l:n,def:i[n]?i[n].match:X}:n}function l(e){for(var t,r=i(),a=e.length,n=V().validPositions[_()];r<a&&!M(r,!0)&&(t=n!==X?b(r,n.locator.slice(""),n):v(r))&&!0!==t.match.optionality&&(!0!==t.match.optionalQuantifier&&!0!==t.match.newBlockMarker||r+1===a&&""===(n!==X?b(r+1,n.locator.slice(""),n):v(r+1)).match.def);)r++;for(;(t=V().validPositions[r-1])&&t&&t.match.optionality&&t.input===G.skipOptionalPartCharacter;)r--;return e.splice(r),e}function g(e){if(J.isFunction(G.isComplete))return G.isComplete(e,G);if("*"===G.repeat)return X;var t=!1,r=i(!0),a=x(r.l);if(r.def===X||r.def.newBlockMarker||r.def.optionality||r.def.optionalQuantifier){t=!0;for(var n=0;n<=a;n++){var o=b(n).match;if(null!==o.fn&&V().validPositions[n]===X&&!0!==o.optionality&&!0!==o.optionalQuantifier||null===o.fn&&e[n]!==A(n,o)){t=!1;break}}}return t}function R(i,e,t,r,a){if((G.numericInput||N)&&(e===ee.keyCode.BACKSPACE?e=ee.keyCode.DELETE:e===ee.keyCode.DELETE&&(e=ee.keyCode.BACKSPACE),N)){var n=t.end;t.end=t.begin,t.begin=n}e===ee.keyCode.BACKSPACE&&(t.end-t.begin<1||!1===G.insertMode)?(t.begin=x(t.begin),V().validPositions[t.begin]!==X&&V().validPositions[t.begin].input===G.groupSeparator&&t.begin--):e===ee.keyCode.DELETE&&t.begin===t.end&&(t.end=M(t.end,!0)&&V().validPositions[t.end]&&V().validPositions[t.end].input!==G.radixPoint?t.end+1:T(t.end)+1,V().validPositions[t.begin]!==X&&V().validPositions[t.begin].input===G.groupSeparator&&t.end++),k(t.begin,t.end,!1,r),!0!==r&&function(){if(G.keepStatic){for(var e=[],t=_(-1,!0),r=J.extend(!0,{},V().validPositions),a=V().validPositions[t];0<=t;t--){var n=V().validPositions[t];if(n){if(!0!==n.generatedInput&&/[0-9a-bA-Z]/.test(n.input)&&e.push(n.input),delete V().validPositions[t],n.alternation!==X&&n.locator[n.alternation]!==a.locator[n.alternation])break;a=n}}if(-1<t)for(V().p=T(_(-1,!0));0<e.length;){var o=new J.Event("keypress");o.which=e.pop().charCodeAt(0),q.keypressEvent.call(i,o,!0,!1,!1,V().p)}else V().validPositions=J.extend(!0,{},r)}}();var o=_(t.begin,!0);if(o<t.begin)V().p=T(o);else if(!0!==r&&(V().p=t.begin,!0!==a))for(;V().p<o&&V().validPositions[V().p]===X;)V().p++}function o(c){var u=(c.ownerDocument.defaultView||Z).getComputedStyle(c,null),e=Y.createElement("div");e.style.width=u.width,e.style.textAlign=u.textAlign,(O=Y.createElement("div")).className="im-colormask",c.parentNode.insertBefore(O,c),c.parentNode.removeChild(c),O.appendChild(e),O.appendChild(c),c.style.left=e.offsetLeft+"px",J(c).on("click",function(e){return h(c,function(e){var t,r=Y.createElement("span");for(var a in u)isNaN(a)&&-1!==a.indexOf("font")&&(r.style[a]=u[a]);r.style.textTransform=u.textTransform,r.style.letterSpacing=u.letterSpacing,r.style.position="absolute",r.style.height="auto",r.style.width="auto",r.style.visibility="hidden",r.style.whiteSpace="nowrap",Y.body.appendChild(r);var n,o=c.inputmask._valueGet(),i=0;for(t=0,n=o.length;t<=n;t++){if(r.innerHTML+=o.charAt(t)||"_",r.offsetWidth>=e){var s=e-i,l=r.offsetWidth-e;r.innerHTML=o.charAt(t),t=(s-=r.offsetWidth/3)<l?t-1:t;break}i=r.offsetWidth}return Y.body.removeChild(r),t}(e.clientX)),q.clickEvent.call(c,[e])}),J(c).on("keydown",function(e){e.shiftKey||!1===G.insertMode||setTimeout(function(){d(c)},0)})}function d(t,r,e){function a(){c||null!==o.fn&&i.input!==X?c&&(null!==o.fn&&i.input!==X||""===o.def)&&(c=!1,l+="</span>"):(c=!0,l+="<span class='im-static'>")}function n(e){!0!==e&&u!==r.begin||Y.activeElement!==t||(l+="<span class='im-caret' style='border-right-width: 1px;border-right-style: solid;'></span>")}var o,i,s,l="",c=!1,u=0;if(O!==X){var d=P();if(r===X?r=h(t):r.begin===X&&(r={begin:r,end:r}),!0!==e){for(var p=_();n(),V().validPositions[u]?(i=V().validPositions[u],o=i.match,s=i.locator.slice(),a(),l+=d[u]):(i=b(u,s,u-1),o=i.match,s=i.locator.slice(),(!1===G.jitMasking||u<p||"number"==typeof G.jitMasking&&isFinite(G.jitMasking)&&G.jitMasking>u)&&(a(),l+=A(u,o))),u++,(j===X||u<j)&&(null!==o.fn||""!==o.def)||u<p||c;);-1===l.indexOf("im-caret")&&n(!0),c&&a()}var m=O.getElementsByTagName("div")[0];m.innerHTML=l,t.inputmask.positionColorMask(t,m)}}t=t||this.maskset,G=G||this.opts;var F,s,j,O,a,I=this,c=this.el,N=this.isRTL,p=!1,L=!1,B=!1,U=!1,z={on:function(e,t,o){var r=function(e){if(this.inputmask===X&&"FORM"!==this.nodeName){var t=J.data(this,"_inputmask_opts");t?new ee(t).mask(this):z.off(this)}else{if("setvalue"===e.type||"FORM"===this.nodeName||!(this.disabled||this.readOnly&&!("keydown"===e.type&&e.ctrlKey&&67===e.keyCode||!1===G.tabThrough&&e.keyCode===ee.keyCode.TAB))){switch(e.type){case"input":if(!0===L)return L=!1,e.preventDefault();break;case"keydown":L=p=!1;break;case"keypress":if(!0===p)return e.preventDefault();p=!0;break;case"click":if(ae||ne){var r=this,a=arguments;return setTimeout(function(){o.apply(r,a)},0),!1}}var n=o.apply(this,arguments);return!1===n&&(e.preventDefault(),e.stopPropagation()),n}e.preventDefault()}};e.inputmask.events[t]=e.inputmask.events[t]||[],e.inputmask.events[t].push(r),-1!==J.inArray(t,["submit","reset"])?null!==e.form&&J(e.form).on(t,r):J(e).on(t,r)},off:function(a,e){var t;a.inputmask&&a.inputmask.events&&(e?(t=[])[e]=a.inputmask.events[e]:t=a.inputmask.events,J.each(t,function(e,t){for(;0<t.length;){var r=t.pop();-1!==J.inArray(e,["submit","reset"])?null!==a.form&&J(a.form).off(e,r):J(a).off(e,r)}delete a.inputmask.events[e]}))}},q={keydownEvent:function(e){var t,r,a,n=this,o=J(n),i=e.keyCode,s=h(n);if(i===ee.keyCode.BACKSPACE||i===ee.keyCode.DELETE||ne&&i===ee.keyCode.BACKSPACE_SAFARI||e.ctrlKey&&i===ee.keyCode.X&&(t=Y.createElement("input"),(a=(r="oncut")in t)||(t.setAttribute(r,"return;"),a="function"==typeof t[r]),t=null,!a))e.preventDefault(),R(n,i,s),D(n,P(!0),V().p,e,n.inputmask._valueGet()!==P().join("")),n.inputmask._valueGet()===y().join("")?o.trigger("cleared"):!0===g(P())&&o.trigger("complete");else if(i===ee.keyCode.END||i===ee.keyCode.PAGE_DOWN){e.preventDefault();var l=T(_());G.insertMode||l!==V().maskLength||e.shiftKey||l--,h(n,e.shiftKey?s.begin:l,l,!0)}else i===ee.keyCode.HOME&&!e.shiftKey||i===ee.keyCode.PAGE_UP?(e.preventDefault(),h(n,0,e.shiftKey?s.begin:0,!0)):(G.undoOnEscape&&i===ee.keyCode.ESCAPE||90===i&&e.ctrlKey)&&!0!==e.altKey?(u(n,!0,!1,F.split("")),o.trigger("click")):i!==ee.keyCode.INSERT||e.shiftKey||e.ctrlKey?!0===G.tabThrough&&i===ee.keyCode.TAB?(!0===e.shiftKey?(null===v(s.begin).match.fn&&(s.begin=T(s.begin)),s.end=x(s.begin,!0),s.begin=x(s.end,!0)):(s.begin=T(s.begin,!0),s.end=T(s.begin,!0),s.end<V().maskLength&&s.end--),s.begin<V().maskLength&&(e.preventDefault(),h(n,s.begin,s.end))):e.shiftKey||!1===G.insertMode&&(i===ee.keyCode.RIGHT?setTimeout(function(){var e=h(n);h(n,e.begin)},0):i===ee.keyCode.LEFT&&setTimeout(function(){var e=h(n);h(n,N?e.begin+1:e.begin-1)},0)):(G.insertMode=!G.insertMode,h(n,G.insertMode||s.begin!==V().maskLength?s.begin:s.begin-1));G.onKeyDown.call(this,e,P(),h(n).begin,G),B=-1!==J.inArray(i,G.ignorables)},keypressEvent:function(e,t,r,a,n){var o=this,i=J(o),s=e.which||e.charCode||e.keyCode;if(!(!0===t||e.ctrlKey&&e.altKey)&&(e.ctrlKey||e.metaKey||B))return s===ee.keyCode.ENTER&&F!==P().join("")&&(F=P().join(""),setTimeout(function(){i.trigger("change")},0)),!0;if(s){46===s&&!1===e.shiftKey&&""!==G.radixPoint&&(s=G.radixPoint.charCodeAt(0));var l,c=t?{begin:n,end:n}:h(o),u=String.fromCharCode(s);V().writeOutBuffer=!0;var d=E(c,u,a);if(!1!==d&&(C(!0),l=d.caret!==X?d.caret:t?d.pos+1:T(d.pos),V().p=l),!1!==r&&(setTimeout(function(){G.onKeyValidation.call(o,s,d,G)},0),V().writeOutBuffer&&!1!==d)){var p=P();D(o,p,G.numericInput&&d.caret===X?x(l):l,e,!0!==t),!0!==t&&setTimeout(function(){!0===g(p)&&i.trigger("complete")},0)}if(e.preventDefault(),t)return!1!==d&&(d.forwardPosition=l),d}},pasteEvent:function(e){var t,r=this,a=e.originalEvent||e,n=J(r),o=r.inputmask._valueGet(!0),i=h(r);N&&(t=i.end,i.end=i.begin,i.begin=t);var s=o.substr(0,i.begin),l=o.substr(i.end,o.length);if(s===(N?y().reverse():y()).slice(0,i.begin).join("")&&(s=""),l===(N?y().reverse():y()).slice(i.end).join("")&&(l=""),N&&(t=s,s=l,l=t),Z.clipboardData&&Z.clipboardData.getData)o=s+Z.clipboardData.getData("Text")+l;else{if(!a.clipboardData||!a.clipboardData.getData)return!0;o=s+a.clipboardData.getData("text/plain")+l}var c=o;if(J.isFunction(G.onBeforePaste)){if(!1===(c=G.onBeforePaste.call(I,o,G)))return e.preventDefault();c||(c=o)}return u(r,!1,!1,N?c.split("").reverse():c.toString().split("")),D(r,P(),T(_()),e,F!==P().join("")),!0===g(P())&&n.trigger("complete"),e.preventDefault()},inputFallBackEvent:function(e){var a=this,o=a.inputmask._valueGet();if(P().join("")!==o){var t=h(a);if(!1===function(e,t,r){if("."===t.charAt(r.begin-1)&&""!==G.radixPoint&&((t=t.split(""))[r.begin-1]=G.radixPoint.charAt(0),t=t.join("")),t.charAt(r.begin-1)===G.radixPoint&&t.length>P().length){var a=new J.Event("keypress");return a.which=G.radixPoint.charCodeAt(0),q.keypressEvent.call(e,a,!0,!0,!1,r.begin-1),!1}}(a,o,t))return!1;if(o=o.replace(new RegExp("("+ee.escapeRegex(y().join(""))+")*"),""),!1===function(e,t,r){if(ae){var a=o.replace(P().join(""),"");if(1===a.length){var n=new J.Event("keypress");return n.which=a.charCodeAt(0),q.keypressEvent.call(e,n,!0,!0,!1,V().validPositions[r.begin-1]?r.begin:r.begin-1),!1}}}(a,0,t))return!1;t.begin>o.length&&(h(a,o.length),t=h(a));var r=P().join(""),n=o.substr(0,t.begin),i=o.substr(t.begin),s=r.substr(0,t.begin),l=r.substr(t.begin),c=t,u="",d=!1;if(n!==s){c.begin=0;for(var p=(d=n.length>=s.length)?n.length:s.length,m=0;n.charAt(m)===s.charAt(m)&&m<p;m++)c.begin++;d&&(u+=n.slice(c.begin,c.end))}i!==l&&(i.length>l.length?d&&(c.end=c.begin):i.length<l.length?c.end+=l.length-i.length:i.charAt(0)!==l.charAt(0)&&c.end++),D(a,P(),c),0<u.length?J.each(u.split(""),function(e,t){var r=new J.Event("keypress");r.which=t.charCodeAt(0),B=!1,q.keypressEvent.call(a,r)}):(c.begin===c.end-1&&h(a,x(c.begin+1),c.end),e.keyCode=ee.keyCode.DELETE,q.keydownEvent.call(a,e)),e.preventDefault()}},setValueEvent:function(e){this.inputmask.refreshValue=!1;var t=this.inputmask._valueGet(!0);J.isFunction(G.onBeforeMask)&&(t=G.onBeforeMask.call(I,t,G)||t),t=t.split(""),u(this,!0,!1,N?t.reverse():t),F=P().join(""),(G.clearMaskOnLostFocus||G.clearIncomplete)&&this.inputmask._valueGet()===y().join("")&&this.inputmask._valueSet("")},focusEvent:function(e){var t=this,r=t.inputmask._valueGet();G.showMaskOnFocus&&(!G.showMaskOnHover||G.showMaskOnHover&&""===r)&&(t.inputmask._valueGet()!==P().join("")?D(t,P(),T(_())):!1===U&&h(t,T(_()))),!0===G.positionCaretOnTab&&!1===U&&""!==r&&(D(t,P(),h(t)),q.clickEvent.apply(t,[e,!0])),F=P().join("")},mouseleaveEvent:function(e){if(U=!1,G.clearMaskOnLostFocus&&Y.activeElement!==this){var t=P().slice(),r=this.inputmask._valueGet();r!==this.getAttribute("placeholder")&&""!==r&&(-1===_()&&r===y().join("")?t=[]:l(t),D(this,t))}},clickEvent:function(e,c){var u=this;setTimeout(function(){if(Y.activeElement===u){var e=h(u);if(c&&(N?e.end=e.begin:e.begin=e.end),e.begin===e.end)switch(G.positionCaretOnClick){case"none":break;case"radixFocus":if(function(e){if(""!==G.radixPoint){var t=V().validPositions;if(t[e]===X||t[e].input===A(e)){if(e<T(-1))return!0;var r=J.inArray(G.radixPoint,P());if(-1!==r){for(var a in t)if(r<a&&t[a].input!==A(a))return!1;return!0}}}return!1}(e.begin)){var t=P().join("").indexOf(G.radixPoint);h(u,G.numericInput?T(t):t);break}default:var r=e.begin,a=_(r,!0),n=T(a);if(r<n)h(u,M(r,!0)||M(r-1,!0)?r:T(r));else{var o=V().validPositions[a],i=b(n,o?o.match.locator:X,o),s=A(n,i.match);if(""!==s&&P()[n]!==s&&!0!==i.match.optionalQuantifier&&!0!==i.match.newBlockMarker||!M(n,!0)&&i.match.def===s){var l=T(n);(l<=r||r===n)&&(n=l)}h(u,n)}}}},0)},dblclickEvent:function(e){var t=this;setTimeout(function(){h(t,0,T(_()))},0)},cutEvent:function(e){var t=this,r=J(t),a=h(t),n=e.originalEvent||e,o=Z.clipboardData||n.clipboardData,i=N?P().slice(a.end,a.begin):P().slice(a.begin,a.end);o.setData("text",N?i.reverse().join(""):i.join("")),Y.execCommand&&Y.execCommand("copy"),R(t,ee.keyCode.DELETE,a),D(t,P(),V().p,e,F!==P().join("")),t.inputmask._valueGet()===y().join("")&&r.trigger("cleared")},blurEvent:function(e){var t=J(this);if(this.inputmask){var r=this.inputmask._valueGet(),a=P().slice();""!==r&&(G.clearMaskOnLostFocus&&(-1===_()&&r===y().join("")?a=[]:l(a)),!1===g(a)&&(setTimeout(function(){t.trigger("incomplete")},0),G.clearIncomplete&&(C(),a=G.clearMaskOnLostFocus?[]:y().slice())),D(this,a,X,e)),F!==P().join("")&&(F=a.join(""),t.trigger("change"))}},mouseenterEvent:function(e){U=!0,Y.activeElement!==this&&G.showMaskOnHover&&this.inputmask._valueGet()!==P().join("")&&D(this,P())},submitEvent:function(e){F!==P().join("")&&s.trigger("change"),G.clearMaskOnLostFocus&&-1===_()&&c.inputmask._valueGet&&c.inputmask._valueGet()===y().join("")&&c.inputmask._valueSet(""),G.removeMaskOnSubmit&&(c.inputmask._valueSet(c.inputmask.unmaskedvalue(),!0),setTimeout(function(){D(c,P())},0))},resetEvent:function(e){c.inputmask.refreshValue=!0,setTimeout(function(){s.trigger("setvalue")},0)}};if(ee.prototype.positionColorMask=function(e,t){e.style.left=t.offsetLeft+"px"},e!==X)switch(e.action){case"isComplete":return c=e.el,g(P());case"unmaskedvalue":return c!==X&&e.value===X||(a=e.value,a=(J.isFunction(G.onBeforeMask)&&G.onBeforeMask.call(I,a,G)||a).split(""),u(X,!1,!1,N?a.reverse():a),J.isFunction(G.onBeforeWrite)&&G.onBeforeWrite.call(I,X,P(),0,G)),r(c);case"mask":!function(e){z.off(e);var t=function(e,s){var t=e.getAttribute("type"),r="INPUT"===e.tagName&&-1!==J.inArray(t,s.supportsInputType)||e.isContentEditable||"TEXTAREA"===e.tagName;if(!r)if("INPUT"===e.tagName){var a=Y.createElement("input");a.setAttribute("type",t),r="text"===a.type,a=null}else r="partial";return!1!==r?function(e){function t(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==_()||!0!==s.nullable?Y.activeElement===this&&s.clearMaskOnLostFocus?(N?l(P().slice()).reverse():l(P().slice())).join(""):a.call(this):"":a.call(this)}function r(e){n.call(this,e),this.inputmask&&J(this).trigger("setvalue")}var a,n,o;if(!e.inputmask.__valueGet){if(!0!==s.noValuePatching){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var i=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value"):X;i&&i.get&&i.set?(a=i.get,n=i.set,Object.defineProperty(e,"value",{get:t,set:r,configurable:!0})):"INPUT"!==e.tagName&&(a=function(){return this.textContent},n=function(e){this.textContent=e},Object.defineProperty(e,"value",{get:t,set:r,configurable:!0}))}else Y.__lookupGetter__&&e.__lookupGetter__("value")&&(a=e.__lookupGetter__("value"),n=e.__lookupSetter__("value"),e.__defineGetter__("value",t),e.__defineSetter__("value",r));e.inputmask.__valueGet=a,e.inputmask.__valueSet=n}e.inputmask._valueGet=function(e){return N&&!0!==e?a.call(this.el).split("").reverse().join(""):a.call(this.el)},e.inputmask._valueSet=function(e,t){n.call(this.el,null===e||e===X?"":!0!==t&&N?e.split("").reverse().join(""):e)},a===X&&(a=function(){return this.value},n=function(e){this.value=e},function(e){if(J.valHooks&&(J.valHooks[e]===X||!0!==J.valHooks[e].inputmaskpatch)){var r=J.valHooks[e]&&J.valHooks[e].get?J.valHooks[e].get:function(e){return e.value},n=J.valHooks[e]&&J.valHooks[e].set?J.valHooks[e].set:function(e,t){return e.value=t,e};J.valHooks[e]={get:function(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var t=r(e);return-1!==_(X,X,e.inputmask.maskset.validPositions)||!0!==s.nullable?t:""}return r(e)},set:function(e,t){var r,a=J(e);return r=n(e,t),e.inputmask&&a.trigger("setvalue"),r},inputmaskpatch:!0}}}(e.type),o=e,z.on(o,"mouseenter",function(e){var t=J(this);this.inputmask._valueGet()!==P().join("")&&t.trigger("setvalue")}))}}(e):e.inputmask=X,r}(e,G);if(!1!==t&&(s=J(c=e),-1===(j=c!==X?c.maxLength:X)&&(j=X),!0===G.colorMask&&o(c),oe&&(c.hasOwnProperty("inputmode")&&(c.inputmode=G.inputmode,c.setAttribute("inputmode",G.inputmode)),"rtfm"===G.androidHack&&(!0!==G.colorMask&&o(c),c.type="password")),!0===t&&(z.on(c,"submit",q.submitEvent),z.on(c,"reset",q.resetEvent),z.on(c,"mouseenter",q.mouseenterEvent),z.on(c,"blur",q.blurEvent),z.on(c,"focus",q.focusEvent),z.on(c,"mouseleave",q.mouseleaveEvent),!0!==G.colorMask&&z.on(c,"click",q.clickEvent),z.on(c,"dblclick",q.dblclickEvent),z.on(c,"paste",q.pasteEvent),z.on(c,"dragdrop",q.pasteEvent),z.on(c,"drop",q.pasteEvent),z.on(c,"cut",q.cutEvent),z.on(c,"complete",G.oncomplete),z.on(c,"incomplete",G.onincomplete),z.on(c,"cleared",G.oncleared),oe||!0===G.inputEventOnly?c.removeAttribute("maxLength"):(z.on(c,"keydown",q.keydownEvent),z.on(c,"keypress",q.keypressEvent)),z.on(c,"compositionstart",J.noop),z.on(c,"compositionupdate",J.noop),z.on(c,"compositionend",J.noop),z.on(c,"keyup",J.noop),z.on(c,"input",q.inputFallBackEvent),z.on(c,"beforeinput",J.noop)),z.on(c,"setvalue",q.setValueEvent),F=y().join(""),""!==c.inputmask._valueGet(!0)||!1===G.clearMaskOnLostFocus||Y.activeElement===c)){var r=J.isFunction(G.onBeforeMask)&&G.onBeforeMask.call(I,c.inputmask._valueGet(!0),G)||c.inputmask._valueGet(!0);""!==r&&u(c,!0,!1,N?r.split("").reverse():r.split(""));var a=P().slice();F=a.join(""),!1===g(a)&&G.clearIncomplete&&C(),G.clearMaskOnLostFocus&&Y.activeElement!==c&&(-1===_()?a=[]:l(a)),D(c,a),Y.activeElement===c&&h(c,T(_()))}}(c);break;case"format":return a=(J.isFunction(G.onBeforeMask)&&G.onBeforeMask.call(I,e.value,G)||e.value).split(""),u(X,!0,!1,N?a.reverse():a),e.metadata?{value:N?P().slice().reverse().join(""):P().join(""),metadata:te.call(this,{action:"getmetadata"},t,G)}:N?P().slice().reverse().join(""):P().join("");case"isValid":e.value?(a=e.value.split(""),u(X,!0,!0,N?a.reverse():a)):e.value=P().join("");for(var Q=P(),H=i(),$=Q.length-1;H<$&&!M($);$--);return Q.splice(H,$+1-H),g(Q)&&e.value===P().join("");case"getemptymask":return y().join("");case"remove":return c&&c.inputmask&&(s=J(c),c.inputmask._valueSet(G.autoUnmask?r(c):c.inputmask._valueGet(!0)),z.off(c),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(c),"value")&&c.inputmask.__valueGet&&Object.defineProperty(c,"value",{get:c.inputmask.__valueGet,set:c.inputmask.__valueSet,configurable:!0}):Y.__lookupGetter__&&c.__lookupGetter__("value")&&c.inputmask.__valueGet&&(c.__defineGetter__("value",c.inputmask.__valueGet),c.__defineSetter__("value",c.inputmask.__valueSet)),c.inputmask=X),c;case"getmetadata":if(J.isArray(t.metadata)){var W=n(!0,0,!1).join("");return J.each(t.metadata,function(e,t){if(t.mask===W)return W=t,!1}),W}return t.metadata}}var e=navigator.userAgent,re=/mobile/i.test(e),ae=/iemobile/i.test(e),ne=/iphone/i.test(e)&&!ae,oe=/android/i.test(e)&&!ae;return ee.prototype={dataAttribute:"data-inputmask",defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:J.noop,onincomplete:J.noop,oncleared:J.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,alias:null,onKeyDown:J.noop,onBeforeMask:null,onBeforePaste:function(e,t){return J.isFunction(t.onBeforeMask)?t.onBeforeMask.call(this,e,t):e},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:J.noop,skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixPointDefinitionSymbol:X,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","password"],ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,canClearPosition:J.noop,preValidation:null,postValidation:null,staticDefinitionSymbol:X,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"verbatim",colorMask:!1,androidHack:!1,importDataAttributes:!0},definitions:{9:{validator:"[0-9１-９]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9１-９A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},aliases:{},masksCache:{},mask:function(e){var n=this;return"string"==typeof e&&(e=Y.getElementById(e)||Y.querySelectorAll(e)),e=e.nodeName?[e]:e,J.each(e,function(e,t){var r=J.extend(!0,{},n.opts);!function(r,e,a,n){function t(e,t){null!==(t=t!==X?t:r.getAttribute(n+"-"+e))&&("string"==typeof t&&(0===e.indexOf("on")?t=Z[t]:"false"===t?t=!1:"true"===t&&(t=!0)),a[e]=t)}if(!0===e.importDataAttributes){var o,i,s,l,c=r.getAttribute(n);if(c&&""!==c&&(c=c.replace(new RegExp("'","g"),'"'),i=JSON.parse("{"+c+"}")),i)for(l in s=X,i)if("alias"===l.toLowerCase()){s=i[l];break}for(o in t("alias",s),a.alias&&u(a.alias,a,e),e){if(i)for(l in s=X,i)if(l.toLowerCase()===o.toLowerCase()){s=i[l];break}t(o,s)}}J.extend(!0,e,a),("rtl"===r.dir||e.rightAlign)&&(r.style.textAlign="right"),("rtl"===r.dir||e.numericInput)&&(r.dir="ltr",r.removeAttribute("dir"),e.isRTL=!0)}(t,r,J.extend(!0,{},n.userOptions),n.dataAttribute);var a=o(r,n.noMasksCache);a!==X&&(t.inputmask!==X&&(t.inputmask.opts.autoUnmask=!0,t.inputmask.remove()),t.inputmask=new ee(X,X,!0),t.inputmask.opts=r,t.inputmask.noMasksCache=n.noMasksCache,t.inputmask.userOptions=J.extend(!0,{},n.userOptions),t.inputmask.isRTL=r.isRTL||r.numericInput,(t.inputmask.el=t).inputmask.maskset=a,J.data(t,"_inputmask_opts",r),te.call(t.inputmask,{action:"mask"}))}),e&&e[0]&&e[0].inputmask||this},option:function(e,t){return"string"==typeof e?this.opts[e]:"object"==typeof e?(J.extend(this.userOptions,e),this.el&&!0!==t&&this.mask(this.el),this):void 0},unmaskedvalue:function(e){return this.maskset=this.maskset||o(this.opts,this.noMasksCache),te.call(this,{action:"unmaskedvalue",value:e})},remove:function(){return te.call(this,{action:"remove"})},getemptymask:function(){return this.maskset=this.maskset||o(this.opts,this.noMasksCache),te.call(this,{action:"getemptymask"})},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||o(this.opts,this.noMasksCache),te.call(this,{action:"isComplete"})},getmetadata:function(){return this.maskset=this.maskset||o(this.opts,this.noMasksCache),te.call(this,{action:"getmetadata"})},isValid:function(e){return this.maskset=this.maskset||o(this.opts,this.noMasksCache),te.call(this,{action:"isValid",value:e})},format:function(e,t){return this.maskset=this.maskset||o(this.opts,this.noMasksCache),te.call(this,{action:"format",value:e,metadata:t})},analyseMask:function(e,d,p){function t(e,t,r,a){this.matches=[],this.openGroup=e||!1,this.alternatorGroup=!1,this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=r||!1,this.isAlternator=a||!1,this.quantifier={min:1,max:1}}function o(r,e,a){a=a!==X?a:r.matches.length;var n=r.matches[a-1];if(d)0===e.indexOf("[")||h&&/\\d|\\s|\\w]/i.test(e)||"."===e?r.matches.splice(a++,0,{fn:new RegExp(e,p.casing?"i":""),cardinality:1,optionality:r.isOptional,newBlockMarker:n===X||n.def!==e,casing:null,def:e,placeholder:X,nativeDef:e}):(h&&(e=e[e.length-1]),J.each(e.split(""),function(e,t){n=r.matches[a-1],r.matches.splice(a++,0,{fn:null,cardinality:0,optionality:r.isOptional,newBlockMarker:n===X||n.def!==t&&null!==n.fn,casing:null,def:p.staticDefinitionSymbol||t,placeholder:p.staticDefinitionSymbol!==X?t:X,nativeDef:t})})),h=!1;else{var t=(p.definitions?p.definitions[e]:X)||ee.prototype.definitions[e];if(t&&!h){for(var o=t.prevalidator,i=o?o.length:0,s=1;s<t.cardinality;s++){var l=s<=i?o[s-1]:[],c=l.validator,u=l.cardinality;r.matches.splice(a++,0,{fn:c?"string"==typeof c?new RegExp(c,p.casing?"i":""):new function(){this.test=c}:new RegExp("."),cardinality:u||1,optionality:r.isOptional,newBlockMarker:n===X||n.def!==(t.definitionSymbol||e),casing:t.casing,def:t.definitionSymbol||e,placeholder:t.placeholder,nativeDef:e}),n=r.matches[a-1]}r.matches.splice(a++,0,{fn:t.validator?"string"==typeof t.validator?new RegExp(t.validator,p.casing?"i":""):new function(){this.test=t.validator}:new RegExp("."),cardinality:t.cardinality,optionality:r.isOptional,newBlockMarker:n===X||n.def!==(t.definitionSymbol||e),casing:t.casing,def:t.definitionSymbol||e,placeholder:t.placeholder,nativeDef:e})}else r.matches.splice(a++,0,{fn:null,cardinality:0,optionality:r.isOptional,newBlockMarker:n===X||n.def!==e&&null!==n.fn,casing:null,def:p.staticDefinitionSymbol||e,placeholder:p.staticDefinitionSymbol!==X?e:X,nativeDef:e}),h=!1}}function r(){if(0<v.length){if(o(s=v[v.length-1],n),s.isAlternator){l=v.pop();for(var e=0;e<l.matches.length;e++)l.matches[e].isGroup=!1;0<v.length?(s=v[v.length-1]).matches.push(l):g.matches.push(l)}}else o(g,n)}var a,n,i,s,l,c,u,m=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,f=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,h=!1,g=new t,v=[],y=[];for(d&&(p.optionalmarker.start=X,p.optionalmarker.end=X);a=d?f.exec(e):m.exec(e);){if(n=a[0],d)switch(n.charAt(0)){case"?":n="{0,1}";break;case"+":case"*":n="{"+n+"}"}if(h)r();else switch(n.charAt(0)){case p.escapeChar:h=!0,d&&r();break;case p.optionalmarker.end:case p.groupmarker.end:if((i=v.pop()).openGroup=!1,i!==X)if(0<v.length){if((s=v[v.length-1]).matches.push(i),s.isAlternator){l=v.pop();for(var k=0;k<l.matches.length;k++)l.matches[k].isGroup=!1,l.matches[k].alternatorGroup=!1;0<v.length?(s=v[v.length-1]).matches.push(l):g.matches.push(l)}}else g.matches.push(i);else r();break;case p.optionalmarker.start:v.push(new t(!1,!0));break;case p.groupmarker.start:v.push(new t(!0));break;case p.quantifiermarker.start:var b=new t(!1,!1,!0),w=(n=n.replace(/[{}]/g,"")).split(","),x=isNaN(w[0])?w[0]:parseInt(w[0]),C=1===w.length?x:isNaN(w[1])?w[1]:parseInt(w[1]);if("*"!==C&&"+"!==C||(x="*"===C?0:1),b.quantifier={min:x,max:C},0<v.length){var _=v[v.length-1].matches;(a=_.pop()).isGroup||((u=new t(!0)).matches.push(a),a=u),_.push(a),_.push(b)}else(a=g.matches.pop()).isGroup||(d&&null===a.fn&&"."===a.def&&(a.fn=new RegExp(a.def,p.casing?"i":"")),(u=new t(!0)).matches.push(a),a=u),g.matches.push(a),g.matches.push(b);break;case p.alternatormarker:if(0<v.length){var S=(s=v[v.length-1]).matches[s.matches.length-1];c=s.openGroup&&(S.matches===X||!1===S.isGroup&&!1===S.isAlternator)?v.pop():s.matches.pop()}else c=g.matches.pop();if(c.isAlternator)v.push(c);else if(c.alternatorGroup?(l=v.pop(),c.alternatorGroup=!1):l=new t(!1,!1,!1,!0),l.matches.push(c),v.push(l),c.openGroup){var P=new t(!(c.openGroup=!1));P.alternatorGroup=!0,v.push(P)}break;default:r()}}for(;0<v.length;)i=v.pop(),g.matches.push(i);return 0<g.matches.length&&(function a(n){n&&n.matches&&J.each(n.matches,function(e,t){var r=n.matches[e+1];(r===X||r.matches===X||!1===r.isQuantifier)&&t&&t.isGroup&&(t.isGroup=!1,d||(o(t,p.groupmarker.start,0),!0!==t.openGroup&&o(t,p.groupmarker.end))),a(t)})}(g),y.push(g)),(p.numericInput||p.isRTL)&&function e(t){for(var r in t.matches=t.matches.reverse(),t.matches)if(t.matches.hasOwnProperty(r)){var a=parseInt(r);if(t.matches[r].isQuantifier&&t.matches[a+1]&&t.matches[a+1].isGroup){var n=t.matches[r];t.matches.splice(r,1),t.matches.splice(a+1,0,n)}t.matches[r].matches!==X?t.matches[r]=e(t.matches[r]):t.matches[r]=((o=t.matches[r])===p.optionalmarker.start?o=p.optionalmarker.end:o===p.optionalmarker.end?o=p.optionalmarker.start:o===p.groupmarker.start?o=p.groupmarker.end:o===p.groupmarker.end&&(o=p.groupmarker.start),o)}var o;return t}(y[0]),y}},ee.extendDefaults=function(e){J.extend(!0,ee.prototype.defaults,e)},ee.extendDefinitions=function(e){J.extend(!0,ee.prototype.definitions,e)},ee.extendAliases=function(e){J.extend(!0,ee.prototype.aliases,e)},ee.format=function(e,t,r){return ee(t).format(e,r)},ee.unmask=function(e,t){return ee(t).unmaskedvalue(e)},ee.isValid=function(e,t){return ee(t).isValid(e)},ee.remove=function(e){J.each(e,function(e,t){t.inputmask&&t.inputmask.remove()})},ee.escapeRegex=function(e){return e.replace(new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim"),"\\$1")},ee.keyCode={ALT:18,BACKSPACE:8,BACKSPACE_SAFARI:127,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91,X:88},ee}),function(e){"function"==typeof define&&define.amd?define(["./dependencyLibs/inputmask.dependencyLib","./inputmask"],e):"object"==typeof exports?module.exports=e(require("./dependencyLibs/inputmask.dependencyLib"),require("./inputmask")):e(window.dependencyLib||jQuery,window.Inputmask)}(function(h,g,v){function o(e,t){for(var r="",a=0;a<e.length;a++)g.prototype.definitions[e.charAt(a)]||t.definitions[e.charAt(a)]||t.optionalmarker.start===e.charAt(a)||t.optionalmarker.end===e.charAt(a)||t.quantifiermarker.start===e.charAt(a)||t.quantifiermarker.end===e.charAt(a)||t.groupmarker.start===e.charAt(a)||t.groupmarker.end===e.charAt(a)||t.alternatormarker===e.charAt(a)?r+="\\"+e.charAt(a):r+=e.charAt(a);return r}return g.extendAliases({numeric:{mask:function(e){if(0!==e.repeat&&isNaN(e.integerDigits)&&(e.integerDigits=e.repeat),e.repeat=0,e.groupSeparator===e.radixPoint&&("."===e.radixPoint?e.groupSeparator=",":","===e.radixPoint?e.groupSeparator=".":e.groupSeparator="")," "===e.groupSeparator&&(e.skipOptionalPartCharacter=v),e.autoGroup=e.autoGroup&&""!==e.groupSeparator,e.autoGroup&&("string"==typeof e.groupSize&&isFinite(e.groupSize)&&(e.groupSize=parseInt(e.groupSize)),isFinite(e.integerDigits))){var t=Math.floor(e.integerDigits/e.groupSize),r=e.integerDigits%e.groupSize;e.integerDigits=parseInt(e.integerDigits)+(0===r?t-1:t),e.integerDigits<1&&(e.integerDigits="*")}1<e.placeholder.length&&(e.placeholder=e.placeholder.charAt(0)),"radixFocus"===e.positionCaretOnClick&&""===e.placeholder&&!1===e.integerOptional&&(e.positionCaretOnClick="lvp"),e.definitions[";"]=e.definitions["~"],e.definitions[";"].definitionSymbol="~",!0===e.numericInput&&(e.positionCaretOnClick="radixFocus"===e.positionCaretOnClick?"lvp":e.positionCaretOnClick,e.digitsOptional=!1,isNaN(e.digits)&&(e.digits=2),e.decimalProtect=!1);var a="[+]";if(a+=o(e.prefix,e),!0===e.integerOptional?a+="~{1,"+e.integerDigits+"}":a+="~{"+e.integerDigits+"}",e.digits!==v){e.radixPointDefinitionSymbol=e.decimalProtect?":":e.radixPoint;var n=e.digits.toString().split(",");isFinite(n[0]&&n[1]&&isFinite(n[1]))?a+=e.radixPointDefinitionSymbol+";{"+e.digits+"}":(isNaN(e.digits)||0<parseInt(e.digits))&&(e.digitsOptional?a+="["+e.radixPointDefinitionSymbol+";{1,"+e.digits+"}]":a+=e.radixPointDefinitionSymbol+";{"+e.digits+"}")}return a+=o(e.suffix,e),a+="[-]",e.greedy=!1,a},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",groupSize:3,groupSeparator:"",autoGroup:!1,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,inputmode:"numeric",preValidation:function(e,t,r,a,n){if("-"===r||r===n.negationSymbol.front)return!0===n.allowMinus&&(n.isNegative=n.isNegative===v||!n.isNegative,""===e.join("")||{caret:t,dopost:!0});if(!1===a&&r===n.radixPoint&&n.digits!==v&&(isNaN(n.digits)||0<parseInt(n.digits))){var o=h.inArray(n.radixPoint,e);if(-1!==o)return!0===n.numericInput?t===o:{caret:o+1}}return!0},postValidation:function(e,t,r){var a=r.suffix.split(""),n=r.prefix.split("");if(t.pos===v&&t.caret!==v&&!0!==t.dopost)return t;var o=t.caret!==v?t.caret:t.pos,i=e.slice();r.numericInput&&(o=i.length-o-1,i=i.reverse());var s=i[o];if(s===r.groupSeparator&&(s=i[o+=1]),o===i.length-r.suffix.length-1&&s===r.radixPoint)return t;s!==v&&s!==r.radixPoint&&s!==r.negationSymbol.front&&s!==r.negationSymbol.back&&(i[o]="?",0<r.prefix.length&&o>=(!1===r.isNegative?1:0)&&o<r.prefix.length-1+(!1===r.isNegative?1:0)?n[o-(!1===r.isNegative?1:0)]="?":0<r.suffix.length&&o>=i.length-r.suffix.length-(!1===r.isNegative?1:0)&&(a[o-(i.length-r.suffix.length-(!1===r.isNegative?1:0))]="?")),n=n.join(""),a=a.join("");var l=i.join("").replace(n,"");if(l=(l=(l=(l=l.replace(a,"")).replace(new RegExp(g.escapeRegex(r.groupSeparator),"g"),"")).replace(new RegExp("[-"+g.escapeRegex(r.negationSymbol.front)+"]","g"),"")).replace(new RegExp(g.escapeRegex(r.negationSymbol.back)+"$"),""),isNaN(r.placeholder)&&(l=l.replace(new RegExp(g.escapeRegex(r.placeholder),"g"),"")),1<l.length&&1!==l.indexOf(r.radixPoint)&&("0"===s&&(l=l.replace(/^\?/g,"")),l=l.replace(/^0/g,"")),l.charAt(0)===r.radixPoint&&""!==r.radixPoint&&!0!==r.numericInput&&(l="0"+l),""!==l){if(l=l.split(""),(!r.digitsOptional||r.enforceDigitsOnBlur&&"blur"===t.event)&&isFinite(r.digits)){var c=h.inArray(r.radixPoint,l),u=h.inArray(r.radixPoint,i);-1===c&&(l.push(r.radixPoint),c=l.length-1);for(var d=1;d<=r.digits;d++)r.digitsOptional&&(!r.enforceDigitsOnBlur||"blur"!==t.event)||l[c+d]!==v&&l[c+d]!==r.placeholder.charAt(0)?-1!==u&&i[u+d]!==v&&(l[c+d]=l[c+d]||i[u+d]):l[c+d]=t.placeholder||r.placeholder.charAt(0)}if(!0!==r.autoGroup||""===r.groupSeparator||s===r.radixPoint&&t.pos===v&&!t.dopost)l=l.join("");else{var p=l[l.length-1]===r.radixPoint&&t.c===r.radixPoint;l=g(function(e,t){var r="";if(r+="("+t.groupSeparator+"*{"+t.groupSize+"}){*}",""!==t.radixPoint){var a=e.join("").split(t.radixPoint);a[1]&&(r+=t.radixPoint+"*{"+a[1].match(/^\d*\??\d*/)[0].length+"}")}return r}(l,r),{numericInput:!0,jitMasking:!0,definitions:{"*":{validator:"[0-9?]",cardinality:1}}}).format(l.join("")),p&&(l+=r.radixPoint),l.charAt(0)===r.groupSeparator&&l.substr(1)}}if(r.isNegative&&"blur"===t.event&&(r.isNegative="0"!==l),l=n+l,l+=a,r.isNegative&&(l=r.negationSymbol.front+l,l+=r.negationSymbol.back),l=l.split(""),s!==v)if(s!==r.radixPoint&&s!==r.negationSymbol.front&&s!==r.negationSymbol.back)-1<(o=h.inArray("?",l))?l[o]=s:o=t.caret||0;else if(s===r.radixPoint||s===r.negationSymbol.front||s===r.negationSymbol.back){var m=h.inArray(s,l);-1!==m&&(o=m)}r.numericInput&&(o=l.length-o-1,l=l.reverse());var f={caret:s===v||t.pos!==v?o+(r.numericInput?-1:1):o,buffer:l,refreshFromBuffer:t.dopost||e.join("")!==l.join("")};return f.refreshFromBuffer?f:t},onBeforeWrite:function(e,t,r,a){if(e)switch(e.type){case"keydown":return a.postValidation(t,{caret:r,dopost:!0},a);case"blur":case"checkval":var n;if((o=a).parseMinMaxOptions===v&&(null!==o.min&&(o.min=o.min.toString().replace(new RegExp(g.escapeRegex(o.groupSeparator),"g"),""),","===o.radixPoint&&(o.min=o.min.replace(o.radixPoint,".")),o.min=isFinite(o.min)?parseFloat(o.min):NaN,isNaN(o.min)&&(o.min=Number.MIN_VALUE)),null!==o.max&&(o.max=o.max.toString().replace(new RegExp(g.escapeRegex(o.groupSeparator),"g"),""),","===o.radixPoint&&(o.max=o.max.replace(o.radixPoint,".")),o.max=isFinite(o.max)?parseFloat(o.max):NaN,isNaN(o.max)&&(o.max=Number.MAX_VALUE)),o.parseMinMaxOptions="done"),null!==a.min||null!==a.max){if(n=a.onUnMask(t.join(""),v,h.extend({},a,{unmaskAsNumber:!0})),null!==a.min&&n<a.min)return a.isNegative=a.min<0,a.postValidation(a.min.toString().replace(".",a.radixPoint).split(""),{caret:r,dopost:!0,placeholder:"0"},a);if(null!==a.max&&n>a.max)return a.isNegative=a.max<0,a.postValidation(a.max.toString().replace(".",a.radixPoint).split(""),{caret:r,dopost:!0,placeholder:"0"},a)}return a.postValidation(t,{caret:r,placeholder:"0",event:"blur"},a);case"_checkval":return{caret:r}}var o},regex:{integerPart:function(e,t){return t?new RegExp("["+g.escapeRegex(e.negationSymbol.front)+"+]?"):new RegExp("["+g.escapeRegex(e.negationSymbol.front)+"+]?\\d+")},integerNPart:function(e){return new RegExp("[\\d"+g.escapeRegex(e.groupSeparator)+g.escapeRegex(e.placeholder.charAt(0))+"]+")}},definitions:{"~":{validator:function(e,t,r,a,n,o){var i=a?new RegExp("[0-9"+g.escapeRegex(n.groupSeparator)+"]").test(e):new RegExp("[0-9]").test(e);if(!0===i){if(!0!==n.numericInput&&t.validPositions[r]!==v&&"~"===t.validPositions[r].match.def&&!o){var s=t.buffer.join(""),l=(s=(s=s.replace(new RegExp("[-"+g.escapeRegex(n.negationSymbol.front)+"]","g"),"")).replace(new RegExp(g.escapeRegex(n.negationSymbol.back)+"$"),"")).split(n.radixPoint);1<l.length&&(l[1]=l[1].replace(/0/g,n.placeholder.charAt(0))),"0"===l[0]&&(l[0]=l[0].replace(/0/g,n.placeholder.charAt(0))),s=l[0]+n.radixPoint+l[1]||"";var c=t._buffer.join("");for(s===n.radixPoint&&(s=c);null===s.match(g.escapeRegex(c)+"$");)c=c.slice(1);i=(s=(s=s.replace(c,"")).split(""))[r]===v?{pos:r,remove:r}:{pos:r}}}else a||e!==n.radixPoint||t.validPositions[r-1]!==v||(t.buffer[r]="0",i={pos:r+1});return i},cardinality:1},"+":{validator:function(e,t,r,a,n){return n.allowMinus&&("-"===e||e===n.negationSymbol.front)},cardinality:1,placeholder:""},"-":{validator:function(e,t,r,a,n){return n.allowMinus&&e===n.negationSymbol.back},cardinality:1,placeholder:""},":":{validator:function(e,t,r,a,n){var o="["+g.escapeRegex(n.radixPoint)+"]",i=new RegExp(o).test(e);return i&&t.validPositions[r]&&t.validPositions[r].match.placeholder===n.radixPoint&&(i={caret:r+1}),i},cardinality:1,placeholder:function(e){return e.radixPoint}}},onUnMask:function(e,t,r){if(""===t&&!0===r.nullable)return t;var a=e.replace(r.prefix,"");return a=(a=a.replace(r.suffix,"")).replace(new RegExp(g.escapeRegex(r.groupSeparator),"g"),""),""!==r.placeholder.charAt(0)&&(a=a.replace(new RegExp(r.placeholder.charAt(0),"g"),"0")),r.unmaskAsNumber?(""!==r.radixPoint&&-1!==a.indexOf(r.radixPoint)&&(a=a.replace(g.escapeRegex.call(this,r.radixPoint),".")),a=(a=a.replace(new RegExp("^"+g.escapeRegex(r.negationSymbol.front)),"-")).replace(new RegExp(g.escapeRegex(r.negationSymbol.back)+"$"),""),Number(a)):a},isComplete:function(e,t){var r=e.join("");if(e.slice().join("")!==r)return!1;var a=r.replace(t.prefix,"");return a=(a=a.replace(t.suffix,"")).replace(new RegExp(g.escapeRegex(t.groupSeparator),"g"),""),","===t.radixPoint&&(a=a.replace(g.escapeRegex(t.radixPoint),".")),isFinite(a)},onBeforeMask:function(e,t){if(t.isNegative=v,e=e.toString().charAt(e.length-1)===t.radixPoint?e.toString().substr(0,e.length-1):e.toString(),""!==t.radixPoint&&isFinite(e)){var r=e.split("."),a=""!==t.groupSeparator?parseInt(t.groupSize):0;2===r.length&&(r[0].length>a||r[1].length>a||r[0].length<=a&&r[1].length<a)&&(e=e.replace(".",t.radixPoint))}var n=e.match(/,/g),o=e.match(/\./g);if(e=o&&n?o.length>n.length?(e=e.replace(/\./g,"")).replace(",",t.radixPoint):n.length>o.length?(e=e.replace(/,/g,"")).replace(".",t.radixPoint):e.indexOf(".")<e.indexOf(",")?e.replace(/\./g,""):e.replace(/,/g,""):e.replace(new RegExp(g.escapeRegex(t.groupSeparator),"g"),""),0===t.digits&&(-1!==e.indexOf(".")?e=e.substring(0,e.indexOf(".")):-1!==e.indexOf(",")&&(e=e.substring(0,e.indexOf(",")))),""!==t.radixPoint&&isFinite(t.digits)&&-1!==e.indexOf(t.radixPoint)){var i=e.split(t.radixPoint)[1].match(new RegExp("\\d*"))[0];if(parseInt(t.digits)<i.toString().length){var s=Math.pow(10,parseInt(t.digits));e=e.replace(g.escapeRegex(t.radixPoint),"."),e=(e=Math.round(parseFloat(e)*s)/s).toString().replace(".",t.radixPoint)}}return e},canClearPosition:function(e,t,r,a,n){var o=e.validPositions[t],i=o.input!==n.radixPoint||null!==e.validPositions[t].match.fn&&!1===n.decimalProtect||o.input===n.radixPoint&&e.validPositions[t+1]&&null===e.validPositions[t+1].match.fn||isFinite(o.input)||t===r||o.input===n.groupSeparator||o.input===n.negationSymbol.front||o.input===n.negationSymbol.back;return!i||"+"!==o.match.nativeDef&&"-"!==o.match.nativeDef||(n.isNegative=!1),i},onKeyDown:function(e,t,r,a){var n=h(this);if(e.ctrlKey)switch(e.keyCode){case g.keyCode.UP:n.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(a.step)),n.trigger("setvalue");break;case g.keyCode.DOWN:n.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(a.step)),n.trigger("setvalue")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,digitsOptional:!0,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowMinus:!1}}),g}),function(e){"function"==typeof define&&define.amd?define(["jquery","./inputmask"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("./inputmask")):e(jQuery,window.Inputmask)}(function(n,o){return void 0===n.fn.inputmask&&(n.fn.inputmask=function(e,t){var r,a=this[0];if(void 0===t&&(t={}),"string"==typeof e)switch(e){case"unmaskedvalue":return a&&a.inputmask?a.inputmask.unmaskedvalue():n(a).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return a&&a.inputmask?a.inputmask.getemptymask():"";case"hasMaskedValue":return!(!a||!a.inputmask)&&a.inputmask.hasMaskedValue();case"isComplete":return!a||!a.inputmask||a.inputmask.isComplete();case"getmetadata":return a&&a.inputmask?a.inputmask.getmetadata():void 0;case"setvalue":n(a).val(t),a&&void 0===a.inputmask&&n(a).triggerHandler("setvalue");break;case"option":if("string"!=typeof t)return this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(t)});if(a&&void 0!==a.inputmask)return a.inputmask.option(t);break;default:return t.alias=e,r=new o(t),this.each(function(){r.mask(this)})}else{if("object"==typeof e)return r=new o(e),void 0===e.mask&&void 0===e.alias?this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(e);r.mask(this)}):this.each(function(){r.mask(this)});if(void 0===e)return this.each(function(){(r=new o(t)).mask(this)})}}),n.fn.inputmask});var ktCommon=function(r,a,n,e){return r.isBreakpoint=function(e){return a(".device-"+e).is(":visible")},r.getParameterByName=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null},r.validEmail=function(e){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)},r.uniqueArray=function(e){var r=[];return a.each(e,function(e,t){-1===a.inArray(t,r)&&r.push(t)}),r},r.initPopoverAndTooltip=function(){a('[data-toggle="popover"]').popover("destroy").popover({animation:!1,container:"body",html:!0,sanitize:!1}),a('[data-toggle="tooltip"]').tooltip("destroy").tooltip({animation:!1,container:"body",html:!0,sanitize:!1})},r.initCarousel=function(){a('[data-ride="carousel"]').removeClass("carousel").addClass("carousel").carousel({interval:!1,keyboard:!1})},n.behaviors.ktCommon={attach:function(e,t){"undefined"!=typeof Sentry&&void 0!==t.ktCommon&&void 0!==t.ktCommon.sentryIo&&void 0!==t.ktCommon.sentryIo.dsn&&Sentry.init({dsn:t.ktCommon.sentryIo.dsn,debug:t.ktCommon.sentryIo.debug,environment:t.ktCommon.sentryIo.environment}),r.initPopoverAndTooltip(),n.ajax.prototype.commands.ktCommonAjaxRedirect=function(e,t){return window.location=t.url,!1}}},r}(ktCommon||{},jQuery,Drupal),ktCommonChartJs=function(e,s,t,r){return e.setChartJsGlobalDefaults=function(){"undefined"!=typeof Chart&&(Chart.defaults.global.defaultFontColor="#333",Chart.defaults.global.defaultFontFamily="Helvetica, Arial, sans-serif",Chart.defaults.global.defaultFontSize=14.4,Chart.defaults.global.defaultColor="#4d90fe",s("#chartjs-tooltip").length<=0&&s("body").append('<div id="chartjs-tooltip" class="popover top" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'),Chart.defaults.global.tooltips.custom=function(e){var t=s("#chartjs-tooltip");if(0!==e.opacity){if(t.removeClass("remove","below","no-transform"),e.yAlign?t.addClass(e.yAlign):t.addClass("no-transform"),e.body){var r=e.title||[],a=e.body.map(function(e){return e.lines}),n="";r.forEach(function(e){n+=e}),s(".popover-title",t).html(n);var o="";a.forEach(function(e){o+=e}),s(".popover-content",t).html(o)}var i=this._chart.canvas.getBoundingClientRect();t.css("opacity",1),t.css("left",i.left+e.caretX),t.css("top",i.top+e.caretY-parseFloat(t.css("height")))}else t.css("opacity",0)},Chart.defaults.global.tooltips.enabled=!1,Chart.defaults.global.tooltips.xPadding=0,Chart.defaults.global.tooltips.yPadding=0)},e.setChartJsGlobalDefaults(),t.behaviors.ktCommonChartJs={attach:function(e,t){}},e}(ktCommonChartJs||{},jQuery,Drupal),ktCommonShare=function(e,r,t,a){return Drupal.behaviors.ktCommonShare={attach:function(e,t){r(".share-modal",e).once("ktCommonShareModal").each(function(){r(".share-modal").modal({backdrop:!0,keyboard:!0,show:!0})}),r(".share-modal",e).on("hidden.bs.modal",function(){"undefined"!=typeof Cookies&&Cookies.set("Drupal.visitor.shareModal","closed",{expires:30,path:t.basePath}),r(this).remove()})}},e}(ktCommonShare||{},jQuery),ktKeywords=function(e,n,o,t){return e.title=[],e.countKeywords=[],e.countTotalSelected=[],e.countSelected=[],e.filterKeywords=[],o.behaviors.ktKeywords={attach:function(e,t){o.ajax.prototype.beforeSubmit=function(e,t,r){n(".search-results .nav li a").removeAttr("data-toggle").removeAttr("href"),n("input, select, textarea, button",".tab-settings").attr("disabled","disabled")},o.ajax.prototype.success=function(e,t){for(var r in this.progress.element&&n(this.progress.element).remove(),this.progress.object&&this.progress.object.stopMonitoring(),n(this.element).removeClass("progress-disabled").removeAttr("disabled"),o.freezeHeight(),e)e.hasOwnProperty(r)&&e[r].command&&this.commands[e[r].command]&&this.commands[e[r].command](this,e[r],t);if(this.form){var a=this.settings||o.settings;o.attachBehaviors(this.form,a)}o.unfreezeHeight(),this.settings=null,n('.popover:not("#chartjs-tooltip")').remove(),n(".tooltip").remove(),n(".search-results .nav li a").attr("data-toggle","tab"),n(".search-results .nav li a").each(function(){n(this).attr("href",n(this).attr("data-href"))}),n("input:not([data-disabled]), select:not([data-disabled]), textarea:not([data-disabled]), button:not([data-disabled])",".tab-settings").removeAttr("disabled"),n('.form-keyword-search-results select[name="sort"]').removeAttr("disabled")},(n("body").hasClass("page-search")||n("body").hasClass("page-tutorial"))&&void 0!==t.ktKeywords&&void 0!==t.ktKeywords.translations&&void 0!==t.ktKeywords.translations.error&&(window.alert=function(e){return n("#content > .messages").remove(),n("#content").prepend('<div class="messages bg-danger alert alert-danger" role="alert">'+t.ktKeywords.translations.error+"</div>"),n(".notice-wait-loading").remove(),n(".progress-indeterminate-wrapper").addClass("hidden"),"undefined"!=typeof Sentry&&Sentry.captureMessage("[kt-keywords.js > window.alert] "+e),!0})}},e}(ktKeywords||{},jQuery,Drupal),ktKeywordsSearchForm=function(r,a,n,e){return n.behaviors.ktKeywordsSearchForm={attach:function(e,t){r.initKeywordsSearchForm=function(){var r=a(".form-keyword-search");0<r.length&&(0<a('select[name="category"]',r).length&&(a('select[name="category"]',r).select2({dropdownCssClass:"width-18em",minimumResultsForSearch:5,templateResult:function(e){return"aps"===e.id?a("<strong>"+e.text+"</strong>"):e.text},templateSelection:function(e,t){return"aps"===e.id?a('select[name="category"]',r).attr("data-default-category-short"):e.text},width:"100%"}),a('select[name="category"]',r).on("select2:select",function(e){a(':visible input[name="keyword"]',r).trigger("click").focus()})),0<a('select[name="country_language"]',r).length&&(a('select[name="country_language"]',r).select2({templateResult:function(e){return void 0!==e.element&&void 0!==e.element.index&&0===parseInt(e.element.index,10)?a("<strong>"+e.text+"</strong>"):e.text},width:"100%"}),a('select[name="country_language"]',r).on("select2:open",function(e){a(".select2-container .select2-search__field").attr("placeholder",a(e.target).attr("placeholder"))}),a(':visible input[name="keyword"]',r).trigger("click").focus()),a(':visible input[name="keyword"]',r).on("paste",function(e){a('input[name="search_event"]',r).length<1?a("<input>").attr({type:"hidden",name:"search_event",value:JSON.stringify(e)}).appendTo(r):a('input[name="search_event"]',r).val(JSON.stringify(e))})),0<a('.form-check-search-volume select[name="targeting_settings_wrapper[metrics_settings][currency_wrapper][country]"]').length&&(a('.form-check-search-volume select[name="targeting_settings_wrapper[metrics_settings][currency_wrapper][country]"]').select2({templateResult:function(e){return-1!==a.inArray(e.id,["US"])?a("<strong>"+e.text+"</strong>"):e.text},width:"100%"}),a('.form-check-search-volume select[name="country_language"]').on("select2:open",function(e){a(".select2-container .select2-search__field").attr("placeholder",a(e.target).attr("placeholder"))}),a('.form-check-search-volume :visible input[name="keyword"]').trigger("click").focus()),a("body.page-search .form-keyword-search .nav-tabs li a, body.page-tutorial .form-keyword-search .nav-tabs li a").on("click",function(e){e.preventDefault();var t=a(this).attr("data-search-engine");t&&(a(".form-keyword-search").addClass("hidden"),a('.form-keyword-search[data-search-engine="'+t+'"]').removeClass("hidden").trigger("submit"))}),a(".tab-settings").on("shown.bs.collapse",function(e){a('.panel-title a[data-toggle="collapse"] .glyphicon:not([data-toggle="popover"])',e.currentTarget).removeClass("glyphicon-menu-up").addClass("glyphicon-menu-down")}),a(".tab-settings").on("hidden.bs.collapse",function(e){a('.panel-title a[data-toggle="collapse"] .glyphicon:not([data-toggle="popover"])',e.currentTarget).removeClass("glyphicon-menu-down").addClass("glyphicon-menu-up")})},a("body",e).once("ktKeywordsInitKeywordsSearchForm").each(function(){r.initKeywordsSearchForm()}),n.ajax.prototype.commands.ktKeywordsSearchFormUpdate=function(e,t){r.initKeywordsSearchForm()}}},r}(ktKeywordsSearchForm||{},jQuery,Drupal),keywordSearchFormOnSubmit=function(e){jQuery(".form-keyword-search:visible").trigger("submit")},ktKeywordsFilterForm=function(e,m,t,r){return Drupal.behaviors.ktKeywordsFilterForm={attach:function(e,o){var i=m("#kt-keywords-filter-form");if(0<i.length){var t={groupSeparator:",",autoGroup:!0,allowMinus:!1,allowPlus:!1,clearIncomplete:!0,rightAlign:!1};m('input[name="search_volume_min"], input[name="search_volume_max"]',i).inputmask(m.extend({},t,{alias:"integer"})),m('input[name="search_volume_trend_min"], input[name="search_volume_trend_max"]',i).inputmask(m.extend({},t,{alias:"integer",allowMinus:!0})),m('input[name="average_cpc_min"], input[name="average_cpc_max"]',i).inputmask(m.extend({},t,{alias:"decimal"})),m('input[name="competition_min"], input[name="competition_max"]',i).inputmask(m.extend({},t,{alias:"integer",max:100})),m('input[name="posts_min"], input[name="posts_max"]',i).inputmask(m.extend({},t,{alias:"integer"})),m('input[name="follower_count_min"], input[name="follower_count_max"]',i).inputmask(m.extend({},t,{alias:"integer"})),m('input[name="price_min"], input[name="price_max"]',i).inputmask(m.extend({},t,{alias:"integer"}));var s={expires:30,path:o.basePath},r=function(){var e=encodeURIComponent(m('input[name="filter_keyword"]',i).val().trim().toLowerCase());0<e.length&&(ktKeywords.filterKeywords.push(e),ktKeywords.filterKeywords=ktCommon.uniqueArray(ktKeywords.filterKeywords),ktKeywords.filterKeywords.sort(),Cookies.set("Drupal.visitor.keywordResultsFilterKeywords",ktKeywords.filterKeywords,s),m(".form-keyword-search-results").attr("data-pending-update","true"),m('.form-keyword-search-results input[name="page"]').val("0"),m('.form-keyword-search-results:visible .form-actions .form-submit[name="update"]').trigger("click"),window.scrollTo(0,0))},a=function(){var e=m('input[name="search_volume_min"]',i).inputmask("unmaskedvalue"),t=m('input[name="search_volume_max"]',i).inputmask("unmaskedvalue");0<e?Cookies.set("Drupal.visitor.keywordResultsFilterSearchVolumeMin",e,s):Cookies.remove("Drupal.visitor.keywordResultsFilterSearchVolumeMin",s),0<t?Cookies.set("Drupal.visitor.keywordResultsFilterSearchVolumeMax",t,s):Cookies.remove("Drupal.visitor.keywordResultsFilterSearchVolumeMax",s),m(".form-keyword-search-results").attr("data-pending-update","true"),m('.form-keyword-search-results input[name="page"]').val("0"),m('.form-keyword-search-results:visible .form-actions .form-submit[name="update"]').trigger("click"),window.scrollTo(0,0)},n=function(){var e=m('input[name="search_volume_trend_min"]',i).inputmask("unmaskedvalue"),t=m('input[name="search_volume_trend_max"]',i).inputmask("unmaskedvalue");e<0||0<e?Cookies.set("Drupal.visitor.keywordResultsFilterSearchVolumeTrendMin",e,s):Cookies.remove("Drupal.visitor.keywordResultsFilterSearchVolumeTrendMin",s),t<0||0<t?Cookies.set("Drupal.visitor.keywordResultsFilterSearchVolumeTrendMax",t,s):Cookies.remove("Drupal.visitor.keywordResultsFilterSearchVolumeTrendMax",s),m(".form-keyword-search-results").attr("data-pending-update","true"),m('.form-keyword-search-results input[name="page"]').val("0"),m('.form-keyword-search-results:visible .form-actions .form-submit[name="update"]').trigger("click"),window.scrollTo(0,0)},l=function(){var e=m('input[name="average_cpc_min"]',i).inputmask("unmaskedvalue"),t=m('input[name="average_cpc_max"]',i).inputmask("unmaskedvalue");0<e?Cookies.set("Drupal.visitor.keywordResultsFilterAverageCpcMin",e,s):Cookies.remove("Drupal.visitor.keywordResultsFilterAverageCpcMin",s),0<t?Cookies.set("Drupal.visitor.keywordResultsFilterAverageCpcMax",t,s):Cookies.remove("Drupal.visitor.keywordResultsFilterAverageCpcMax",s),m(".form-keyword-search-results").attr("data-pending-update","true"),m('.form-keyword-search-results input[name="page"]').val("0"),m('.form-keyword-search-results:visible .form-actions .form-submit[name="update"]').trigger("click"),window.scrollTo(0,0)},c=function(){m('input[name="competition_min"], input[name="competition_max"]',i).trigger("blur");var e=m('input[name="competition_min"]',i).inputmask("unmaskedvalue"),t=m('input[name="competition_max"]',i).inputmask("unmaskedvalue"),r=m('input[name="competition_low"]',i).is(":checked"),a=m('input[name="competition_medium"]',i).is(":checked"),n=m('input[name="competition_high"]',i).is(":checked");0<e?Cookies.set("Drupal.visitor.keywordResultsFilterCompetitionMin",e,s):Cookies.remove("Drupal.visitor.keywordResultsFilterCompetitionMin",s),0<t?Cookies.set("Drupal.visitor.keywordResultsFilterCompetitionMax",t,s):Cookies.remove("Drupal.visitor.keywordResultsFilterCompetitionMax",s),!0===r?Cookies.set("Drupal.visitor.keywordResultsFilterCompetitionLow",r,{expires:30,path:o.basePath}):Cookies.remove("Drupal.visitor.keywordResultsFilterCompetitionLow",s),!0===a?Cookies.set("Drupal.visitor.keywordResultsFilterCompetitionMedium",a,{expires:30,path:o.basePath}):Cookies.remove("Drupal.visitor.keywordResultsFilterCompetitionMedium",s),!0===n?Cookies.set("Drupal.visitor.keywordResultsFilterCompetitionHigh",n,s):Cookies.remove("Drupal.visitor.keywordResultsFilterCompetitionHigh",s),m(".form-keyword-search-results").attr("data-pending-update","true"),m('.form-keyword-search-results input[name="page"]').val("0"),m('.form-keyword-search-results:visible .form-actions .form-submit[name="update"]').trigger("click"),window.scrollTo(0,0)},u=function(){var e=m('input[name="posts_min"]',i).inputmask("unmaskedvalue"),t=m('input[name="posts_max"]',i).inputmask("unmaskedvalue");0<e?Cookies.set("Drupal.visitor.keywordResultsFilterPostsMin",e,s):Cookies.remove("Drupal.visitor.keywordResultsFilterPostsMin",s),0<t?Cookies.set("Drupal.visitor.keywordResultsFilterPostsMax",t,s):Cookies.remove("Drupal.visitor.keywordResultsFilterPostsMax",s),m(".form-keyword-search-results").attr("data-pending-update","true"),m('.form-keyword-search-results input[name="page"]').val("0"),m('.form-keyword-search-results:visible .form-actions .form-submit[name="update"]').trigger("click"),window.scrollTo(0,0)},d=function(){var e=m('input[name="follower_count_min"]',i).inputmask("unmaskedvalue"),t=m('input[name="follower_count_max"]',i).inputmask("unmaskedvalue");0<e?Cookies.set("Drupal.visitor.keywordResultsFilterFollowerCountMin",e,s):Cookies.remove("Drupal.visitor.keywordResultsFilterFollowerCountMin",s),0<t?Cookies.set("Drupal.visitor.keywordResultsFilterFollowerCountMax",t,s):Cookies.remove("Drupal.visitor.keywordResultsFilterFollowerCountMax",s),m(".form-keyword-search-results").attr("data-pending-update","true"),m('.form-keyword-search-results input[name="page"]').val("0"),m('.form-keyword-search-results:visible .form-actions .form-submit[name="update"]').trigger("click"),window.scrollTo(0,0)},p=function(){var e=m('input[name="price_min"]',i).inputmask("unmaskedvalue"),t=m('input[name="price_max"]',i).inputmask("unmaskedvalue");0<e?Cookies.set("Drupal.visitor.keywordResultsFilterPriceMin",e,s):Cookies.remove("Drupal.visitor.keywordResultsFilterPriceMin",s),0<t?Cookies.set("Drupal.visitor.keywordResultsFilterPriceMax",t,s):Cookies.remove("Drupal.visitor.keywordResultsFilterPriceMax",s),m(".form-keyword-search-results").attr("data-pending-update","true"),m('.form-keyword-search-results input[name="page"]').val("0"),m('.form-keyword-search-results:visible .form-actions .form-submit[name="update"]').trigger("click"),window.scrollTo(0,0)};m(i).on("submit",function(e){e.preventDefault()}),m('.form-submit[name="filter_keyword"]',i).on("click",function(e){e.preventDefault(),r()}),m('input[name="filter_keyword"]',i).on("keyup",function(e){13===parseInt(e.keyCode,10)&&r()}),m('.form-submit[name="search_volume"]',i).on("click",function(e){e.preventDefault(),a()}),m('input[name="search_volume_min"], input[name="search_volume_max"]',i).on("keyup",function(e){13===parseInt(e.keyCode,10)&&a()}),m('.form-submit[name="search_volume_trend"]',i).on("click",function(e){e.preventDefault(),n()}),m('input[name="search_volume_trend_min"], input[name="search_volume_trend_max"]',i).on("keyup",function(e){13===parseInt(e.keyCode,10)&&n()}),m('.form-submit[name="average_cpc"]',i).on("click",function(e){e.preventDefault(),l()}),m('input[name="average_cpc_min"], input[name="average_cpc_max"]',i).on("keyup",function(e){13===parseInt(e.keyCode,10)&&l()}),m('.form-submit[name="competition"]',i).on("click",function(e){e.preventDefault(),c()}),m('input[name="competition_min"], input[name="competition_max"]',i).on("keyup",function(e){13===parseInt(e.keyCode,10)&&c()}),m('.form-submit[name="posts"]',i).on("click",function(e){e.preventDefault(),u()}),m('input[name="posts_min"], input[name="posts_max"]',i).on("keyup",function(e){13===parseInt(e.keyCode,10)&&u()}),m('.form-submit[name="follower_count"]',i).on("click",function(e){e.preventDefault(),d()}),m('input[name="follower_count_min"], input[name="follower_count_max"]',i).on("keyup",function(e){13===parseInt(e.keyCode,10)&&d()}),m('.form-submit[name="price"]',i).on("click",function(e){e.preventDefault(),p()}),m('input[name="price_min"], input[name="price_max"]',i).on("keyup",function(e){13===parseInt(e.keyCode,10)&&p()}),m('.search-filters .close[data-filter="keywords"]').on("click",function(e){e.preventDefault(),e.stopImmediatePropagation();var t=m(this).attr("data-value");m('input[name="filter_keyword"]',i).val("");var r=ktKeywords.filterKeywords.indexOf(t);-1<r&&ktKeywords.filterKeywords.splice(r,1),0<ktKeywords.filterKeywords.length?(ktKeywords.filterKeywords=ktCommon.uniqueArray(ktKeywords.filterKeywords),ktKeywords.filterKeywords.sort(),Cookies.set("Drupal.visitor.keywordResultsFilterKeywords",ktKeywords.filterKeywords,s)):Cookies.remove("Drupal.visitor.keywordResultsFilterKeywords",s),m(".form-keyword-search-results").attr("data-pending-update","true"),m('.form-keyword-search-results input[name="page"]').val("0"),m('.form-keyword-search-results:visible .form-actions .form-submit[name="update"]').trigger("click"),window.scrollTo(0,0)}),m('.search-filters .close[data-filter="search_volume"]').on("click",function(e){e.preventDefault(),e.stopImmediatePropagation(),m('input[name="search_volume_min"]',i).val(""),m('input[name="search_volume_max"]',i).val(""),a()}),m('.search-filters .close[data-filter="search_volume_trend"]').on("click",function(e){e.preventDefault(),e.stopImmediatePropagation(),m('input[name="search_volume_trend_min"]',i).val(""),m('input[name="search_volume_trend_max"]',i).val(""),n()}),m('.search-filters .close[data-filter="average_cpc"]').on("click",function(e){e.preventDefault(),e.stopImmediatePropagation(),m('input[name="average_cpc_min"]',i).val(""),m('input[name="average_cpc_max"]',i).val(""),l()}),m('.search-filters .close[data-filter="competition"]').on("click",function(e){e.preventDefault(),e.stopImmediatePropagation(),m('input[name="competition_min"]',i).val(""),m('input[name="competition_max"]',i).val(""),c()}),m('.search-filters .close[data-filter="posts"]').on("click",function(e){e.preventDefault(),e.stopImmediatePropagation(),m('input[name="posts_min"]',i).val(""),m('input[name="posts_max"]',i).val(""),u()}),m('.search-filters .close[data-filter="follower_count"]').on("click",function(e){e.preventDefault(),e.stopImmediatePropagation(),m('input[name="follower_count_min"]',i).val(""),m('input[name="follower_count_max"]',i).val(""),d()}),m('.search-filters .close[data-filter="price"]').on("click",function(e){e.preventDefault(),e.stopImmediatePropagation(),m('input[name="price_min"]',i).val(""),m('input[name="price_max"]',i).val(""),p()}),m(".btn-reset",i).on("click",function(e){e.preventDefault(),e.stopImmediatePropagation(),m("input",i).val(""),m(".form-actions",i).addClass("hidden"),Cookies.remove("Drupal.visitor.keywordResultsFilterKeywords",s),Cookies.remove("Drupal.visitor.keywordResultsFilterSearchVolumeMin",s),Cookies.remove("Drupal.visitor.keywordResultsFilterSearchVolumeMax",s),Cookies.remove("Drupal.visitor.keywordResultsFilterSearchVolumeTrendMin",s),Cookies.remove("Drupal.visitor.keywordResultsFilterSearchVolumeTrendMax",s),Cookies.remove("Drupal.visitor.keywordResultsFilterAverageCpcMin",s),Cookies.remove("Drupal.visitor.keywordResultsFilterAverageCpcMax",s),Cookies.remove("Drupal.visitor.keywordResultsFilterCompetitionMin",s),Cookies.remove("Drupal.visitor.keywordResultsFilterCompetitionMax",s),Cookies.remove("Drupal.visitor.keywordResultsFilterCompetitionLow",s),Cookies.remove("Drupal.visitor.keywordResultsFilterCompetitionMedium",s),Cookies.remove("Drupal.visitor.keywordResultsFilterCompetitionHigh",s),Cookies.remove("Drupal.visitor.keywordResultsFilterPostsMin",s),Cookies.remove("Drupal.visitor.keywordResultsFilterPostsMax",s),Cookies.remove("Drupal.visitor.keywordResultsFilterFollowerCountMin",s),Cookies.remove("Drupal.visitor.keywordResultsFilterFollowerCountMax",s),Cookies.remove("Drupal.visitor.keywordResultsFilterPriceMin",s),Cookies.remove("Drupal.visitor.keywordResultsFilterPriceMax",s),m(".form-keyword-search-results").attr("data-pending-update","true"),m('.form-keyword-search-results input[name="page"]').val("0"),m('.form-keyword-search-results:visible .form-actions .form-submit[name="update"]').trigger("click"),window.scrollTo(0,0)})}}},e}(ktKeywordsFilterForm||{},jQuery),ktKeywordsTargetingSettingsForm=function(e,a,n,t){return n.behaviors.ktKeywordsTargetingSettingsForm={attach:function(e,t){var r=function(){var e=a(".form-targeting-settings");a('select[name="targeting_settings_wrapper[metrics_settings][location][]"]',e).each(function(){var e=a(this).attr("data-ajax-url");a(this).select2({ajax:{url:e,dataType:"json",delay:200,data:function(e){return{keyword:e.term}},processResults:function(e,t){return{results:e=a.map(e,function(e,t){return{id:t,text:e}})}},cache:!0},maximumSelectionLength:10,minimumInputLength:1,width:"100%"}),"true"===a(this).attr("data-disabled")?a(".form-item-targeting-settings-wrapper-metrics-settings-location .select2-search--inline").addClass("hidden"):a(".form-item-targeting-settings-wrapper-metrics-settings-location .select2-search--inline").removeClass("hidden")}),a('select[name="targeting_settings_wrapper[metrics_settings][language][]"]',e).select2({minimumResultsForSearch:5,maximumSelectionLength:1,width:"100%"}),a('select[name="targeting_settings_wrapper[metrics_settings][language][]"]',e).on("select2:unselect",function(e){var t=this;a(t).data("select2").options.set("disabled",!0),setTimeout(function(){a(t).data("select2").options.set("disabled",!1)},0)}),a('select[name="targeting_settings_wrapper[metrics_settings][language][]"]').on("select2:opening",function(e){if(1<=a('select[name="targeting_settings_wrapper[metrics_settings][language][]"]').val().length)return!1}),"true"===a('select[name="targeting_settings_wrapper[metrics_settings][language][]"]').attr("data-disabled")?a(".form-item-targeting-settings-wrapper-metrics-settings-language .select2-search--inline").addClass("hidden"):a(".form-item-targeting-settings-wrapper-metrics-settings-language .select2-search--inline").removeClass("hidden"),a('select[name="targeting_settings_wrapper[metrics_settings][currency_wrapper][network]"]',e).select2({minimumResultsForSearch:1/0,width:"100%"}),a('select[name="targeting_settings_wrapper[metrics_settings][currency_wrapper][currency]"]',e).select2({minimumResultsForSearch:5,width:"100%"})};a("body",e).once("ktKeywordsInitTargetingSettingsForm").each(function(){r()}),void 0!==n.ajax&&void 0!==n.ajax.prototype&&void 0!==n.ajax.prototype.commands&&(n.ajax.prototype.commands.ktKeywordsTargetingSettingsFormUpdate=function(e,t){r()})}},e}(ktKeywordsTargetingSettingsForm||{},jQuery,Drupal),ktKeywordsMonthlySearchVolume=function(t,p,m,e){return m.behaviors.ktKeywordsMonthlySearchVolume={attach:function(e,u){var d=Modernizr.canvas;d||p(".table-search-results .btn-targeted-monthly-searches").addClass("hidden"),p.fn.peity.defaults.bar={delimiter:",",fill:["#4d90fe"],height:16,max:null,min:0,padding:.2,width:36},t.initSearchVolumeTrendMiniChart=function(){p(".table-search-results .btn-targeted-monthly-searches .search-volume-trend-mini-chart").peity("bar")},p(".table-search-results .btn-targeted-monthly-searches, .table-search-results .btn-targeted-monthly-searches-link").on("click",function(e){e.preventDefault(),e.stopImmediatePropagation();var t=p(this).parent().find(".btn-targeted-monthly-searches"),r=p(t).attr("data-rel"),a=p(t).hasClass("active"),n=p(t).parents(".table-search-results").find('tr[class*="row-targeted-monthly-searches"][data-rel="'+r+'"]');0===p(n).length&&(n=p(t).parents(".panel-search-results-summary").find('.table-summary-results tr[class*="row-targeted-monthly-searches"][data-rel="'+r+'"]'),a=!1);var o=p(".chart-targeted-monthly-searches",n),i=p(t).parent().find(".btn-targeted-monthly-searches-link");if(d?p(o).removeClass("hidden"):p(o).addClass("hidden"),a)p(n).addClass("hidden"),p(t).removeClass("active"),p(i).removeClass("text-bold"),d&&void 0!==p(o).data("chartjs")&&(p(o).data("chartjs").destroy(),p(o).removeData("chartjs"));else if(p(n).removeClass("hidden"),p(t).addClass("active"),p(i).addClass("text-bold"),d&&void 0===p(o).data("chartjs")){ktCommonChartJs.setChartJsGlobalDefaults();var s=u.ktKeywords.translations.averageMonthlySearches;void 0!==u.ktKeywords.targetedMonthlySearches&&void 0!==u.ktKeywords.targetedMonthlySearches[r]&&void 0!==u.ktKeywords.targetedMonthlySearches[r].search_volume_trend&&0!==parseInt(u.ktKeywords.targetedMonthlySearches[r].search_volume_trend,10)&&(0<parseInt(u.ktKeywords.targetedMonthlySearches[r].search_volume_trend,10)?s=m.t(u.ktKeywords.translations.averageMonthlySearchesTrendIncrease,{"!value":"+"+numeral(u.ktKeywords.targetedMonthlySearches[r].search_volume_trend).format("0,0")+"%"}):u.ktKeywords.targetedMonthlySearches[r].search_volume_trend<0&&(s=m.t(u.ktKeywords.translations.averageMonthlySearchesTrendDecrease,{"!value":numeral(u.ktKeywords.targetedMonthlySearches[r].search_volume_trend).format("0,0")+"%"})));var l=new Chart(o,{type:"bar",data:{labels:u.ktKeywords.targetedMonthlySearches.labels,datasets:[{data:u.ktKeywords.targetedMonthlySearches[r].data,backgroundColor:"#4d90fe",borderWidth:0}]},options:{animation:{duration:0},hover:{animationDuration:0},legend:{display:!1},maintainAspectRatio:!1,responsive:!0,responsiveAnimationDuration:0,scales:{xAxes:[{gridLines:{display:!1},ticks:{maxTicksLimit:6}}],yAxes:[{ticks:{beginAtZero:!0,callback:function(e,t,r){return numeral(e).format("0,0a")}}}]},title:{display:!0,text:s},tooltips:{callbacks:{label:function(e,t){var r=t.datasets[e.datasetIndex].data[e.index];return m.t(u.ktKeywords.translations.countSearches,{"!count":numeral(r).format("0,0")})}}}}});p(o).data("chartjs",l)}ktKeywordsSearchResultsUpsell.ktKeywordsSearchResultsUpsellRecalculateOffset(),p(window).scroll()}),p(".panel-search-results-summary .btn-targeted-monthly-searches, .panel-search-results-summary .btn-targeted-monthly-searches-link").on("click",function(e){e.preventDefault(),e.stopImmediatePropagation();var t=p(this).parent().find(".btn-targeted-monthly-searches"),r=p(t).attr("data-rel"),a=(p(t).hasClass("active"),p(t).parents(".panel-search-results-summary").find('.table-summary-results tr[class*="row-targeted-monthly-searches"][data-rel="'+r+'"]')),n=p(".chart-targeted-monthly-searches-bar",a),o=p(".chart-targeted-monthly-searches-pie",a),i=p(t).parent().find(".btn-targeted-monthly-searches-link");if(d?(p(n).removeClass("hidden"),p(o).removeClass("hidden")):(p(n).addClass("hidden"),p(o).addClass("hidden")),p(a).removeClass("hidden"),p(t).addClass("active"),p(i).addClass("text-bold"),d){if(void 0===p(n).data("chartjs")){ktCommonChartJs.setChartJsGlobalDefaults();var s=u.ktKeywords.translations.averageMonthlySearches;if(void 0!==u.ktKeywords.targetedMonthlySearches&&void 0!==u.ktKeywords.targetedMonthlySearches[r]&&void 0!==u.ktKeywords.targetedMonthlySearches[r].search_volume_trend&&0!==parseInt(u.ktKeywords.targetedMonthlySearches[r].search_volume_trend,10)&&(0<parseInt(u.ktKeywords.targetedMonthlySearches[r].search_volume_trend,10)?s=m.t(u.ktKeywords.translations.averageMonthlySearchesTrendIncrease,{"!value":"+"+numeral(u.ktKeywords.targetedMonthlySearches[r].search_volume_trend).format("0,0")+"%"}):u.ktKeywords.targetedMonthlySearches[r].search_volume_trend<0&&(s=m.t(u.ktKeywords.translations.averageMonthlySearchesTrendDecrease,{"!value":numeral(u.ktKeywords.targetedMonthlySearches[r].search_volume_trend).format("0,0")+"%"}))),"multi"===u.ktKeywords.targetedMonthlySearches[r].type)var l=new Chart(n,{type:"bar",data:{labels:u.ktKeywords.targetedMonthlySearches.labels,datasets:[{label:u.ktKeywords.translations.desktop,data:u.ktKeywords.targetedMonthlySearches[r].desktop.data,backgroundColor:"#4d90fe",borderWidth:0},{label:u.ktKeywords.translations.mobile,data:u.ktKeywords.targetedMonthlySearches[r].mobile.data,backgroundColor:"#db4337",borderWidth:0},{label:u.ktKeywords.translations.tablet,data:u.ktKeywords.targetedMonthlySearches[r].tablet.data,backgroundColor:"#ff9f1a",borderWidth:0}]},options:{animation:{duration:0},hover:{animationDuration:0},legend:{display:!1},maintainAspectRatio:!1,responsive:!0,responsiveAnimationDuration:200,scales:{xAxes:[{gridLines:{display:!1},ticks:{maxTicksLimit:6}}],yAxes:[{ticks:{beginAtZero:!0,callback:function(e,t,r){return numeral(e).format("0,0a")}}}]},title:{display:!0,text:s},tooltips:{callbacks:{label:function(e,t){var r=t.datasets[e.datasetIndex].data[e.index];return m.t(u.ktKeywords.translations.countSearches,{"!count":numeral(r).format("0,0")})},title:function(e,t){return e[0].xLabel+" ("+t.datasets[e[0].datasetIndex].label+")"}}}}});else l=new Chart(n,{type:"bar",data:{labels:u.ktKeywords.targetedMonthlySearches.labels,datasets:[{data:u.ktKeywords.targetedMonthlySearches[r].data,backgroundColor:"#4d90fe",borderWidth:0}]},options:{animation:{duration:0},hover:{animationDuration:0},legend:{display:!1},maintainAspectRatio:!1,responsive:!0,responsiveAnimationDuration:200,scales:{xAxes:[{gridLines:{display:!1},ticks:{maxTicksLimit:6}}],yAxes:[{ticks:{beginAtZero:!0,callback:function(e,t,r){return numeral(e).format("0,0a")}}}]},title:{display:!0,text:s},tooltips:{callbacks:{label:function(e,t){var r=t.datasets[e.datasetIndex].data[e.index];return m.t(u.ktKeywords.translations.countSearches,{"!count":numeral(r).format("0,0")})}}}}});p(n).data("chartjs",l)}if(void 0===p(o).data("chartjs")&&"multi"===u.ktKeywords.targetedMonthlySearches[r].type){ktCommonChartJs.setChartJsGlobalDefaults();var c=new Chart(o,{type:"pie",data:{datasets:[{data:[u.ktKeywords.targetedMonthlySearches[r].desktop.total,u.ktKeywords.targetedMonthlySearches[r].mobile.total,u.ktKeywords.targetedMonthlySearches[r].tablet.total],backgroundColor:["#4d90fe","#db4337","#ff9f1a"]}],labels:[u.ktKeywords.translations.desktop,u.ktKeywords.translations.mobile,u.ktKeywords.translations.tablet]},options:{animation:{duration:0},hover:{animationDuration:0},legend:{display:!1},responsive:!0,maintainAspectRatio:!0,responsiveAnimationDuration:200,tooltips:{callbacks:{title:function(e,t){return t.labels[e[0].index]},label:function(e,t){var r=function e(t){var r,a=t[0]+t[1]+t[2],n=[Math.round(t[0]/a*100),Math.round(t[1]/a*100),Math.round(t[2]/a*100)],o=n[0]+n[1]+n[2];if(100===parseInt(o,10))return n;var i=(r=t).indexOf(Math.max.apply(Math,r));return t[i]=(n[i]-(o-100))/100*a,e(t)}(t.datasets[0].data),a=t.datasets[e.datasetIndex].data[e.index];return m.t(u.ktKeywords.translations.countSearches,{"!count":numeral(a).format("0,0")})+" ("+r[e.index]+"%)"}}}}});p(o).data("chartjs",c)}}})}},t}(ktKeywordsMonthlySearchVolume||{},jQuery,Drupal),ktKeywordsGoogleTrends=function(c,u,e,t){return Drupal.behaviors.ktKeywordsGoogleTrends={attach:function(e,t){c.ktKeywordsGoogleTrendsInterestOverTime=function(e,t,r,a){0<u(e).length&&"undefined"!=typeof trends&&trends.embed.renderExploreWidgetTo(e,"TIMESERIES",{comparisonItem:[{keyword:t,geo:r,time:"today 12-m"}],category:0,property:a},{exploreQuery:"cat=0&geo="+r+"&gprop="+a+"&q="+encodeURIComponent(t)+"&date=today 12-m",guestPath:"https://trends.google.com:443/trends/embed/"})},c.ktKeywordsGoogleTrendsInterestByRegion=function(e,t,r,a){0<u(e).length&&"undefined"!=typeof trends&&trends.embed.renderExploreWidgetTo(e,"GEO_MAP",{comparisonItem:[{keyword:t,geo:r,time:"today 12-m"}],category:0,property:a},{exploreQuery:"cat=0&geo="+r+"&gprop="+a+"&q="+encodeURIComponent(t)+"&date=today 12-m",guestPath:"https://trends.google.com:443/trends/embed/"})},c.ktKeywordsGoogleTrendsRelatedTopics=function(e,t,r,a){0<u(e).length&&"undefined"!=typeof trends&&trends.embed.renderExploreWidgetTo(e,"RELATED_TOPICS",{comparisonItem:[{keyword:t,geo:r,time:"today 12-m"}],category:0,property:a},{exploreQuery:"cat=0&geo="+r+"&gprop="+a+"&q="+encodeURIComponent(t)+"&date=today 12-m",guestPath:"https://trends.google.com:443/trends/embed/"})},c.ktKeywordsGoogleTrendsRelatedQueries=function(e,t,r,a){0<u(e).length&&"undefined"!=typeof trends&&trends.embed.renderExploreWidgetTo(e,"RELATED_QUERIES",{comparisonItem:[{keyword:t,geo:r,time:"today 12-m"}],category:0,property:a},{exploreQuery:"cat=0&geo="+r+"&gprop="+a+"&q="+encodeURIComponent(t)+"&date=today 12-m",guestPath:"https://trends.google.com:443/trends/embed/"})},u(".table-search-results .btn-interest-over-time, .table-search-results .btn-interest-over-time-link").on("click",function(e){e.preventDefault(),e.stopImmediatePropagation();var t=u(this).parent().find(".btn-interest-over-time"),r=u(t).attr("data-rel"),a=u(t).hasClass("active"),n=u(t).parents(".table-search-results").find('tr[class*="row-interest-over-time"][data-rel="'+r+'"]'),o=u(".widget-interest-over-time",n),i=u(t).parent().find(".btn-interest-over-time-link"),s=u(t).parents(".tab-pane").attr("data-tab"),l=u(t).parents(".tab-pane").find('input[name="search_type"]').val();a?(u(n).addClass("hidden"),u(t).removeClass("active"),u(i).removeClass("text-bold")):(u(n).removeClass("hidden"),u(t).addClass("active"),u(i).addClass("text-bold"),"false"===u(o,s).attr("data-init")&&(c.ktKeywordsGoogleTrendsInterestOverTime(document.getElementById(r+"-"+l),u(o).attr("data-keyword"),u(o).attr("data-geo"),u(o).attr("data-property")),u(o,s).attr("data-init","true")))})}},c}(ktKeywordsGoogleTrends||{},jQuery),ktKeywordsNegativeKeywordsForm=function(e,a,n,t){var o=a("#kt-keywords-negative-keywords-form");return n.behaviors.ktKeywordsNegativeKeywordsForm={attach:function(e,t){var r=function(){if(0<o.length&&void 0!==t.ktKeywords&&void 0!==t.ktKeywords.negativeKeywords&&void 0!==t.ktKeywords.negativeKeywords.limit){var r=t.ktKeywords.negativeKeywords.limit,e=function(){var e=a('textarea[name="negative_keywords"]',o).val().trim();e=0<e.length?e.split("\n"):[];var t=r-e.length;t<0&&(t=0),a(".counter strong",o).html(numeral(t).format("0,0"))};a('textarea[name="negative_keywords"]',o).on("input propertychange",function(){e()}),e()}};a("body",e).once("ktKeywordsInitNegativeKeywordsForm").each(function(){r()}),void 0!==n.ajax&&void 0!==n.ajax.prototype&&void 0!==n.ajax.prototype.commands&&(n.ajax.prototype.commands.ktKeywordsNegativeKeywordsFormUpdate=function(e,t){r()})}},e}(ktKeywordsNegativeKeywordsForm||{},jQuery,Drupal),ktKeywordsSearchResultsScrape=function(e,h,g,t){return g.behaviors.ktKeywordsSearchResultsScrape={attach:function(e,f){h(".search-results .nav-tabs li a",e).one("shown.bs.tab",function(e){var t=h(e.target).attr("data-tab"),i=h(h(e.target).attr("data-href")),n=h(".form-keyword-search-results",i),r=void 0!==f.ktKeywords.scrapeUrls&&void 0!==f.ktKeywords.scrapeUrls[t]&&void 0!==f.ktKeywords.scrapeUrls[t][0]?f.ktKeywords.scrapeUrls[t][0]:null,s=void 0!==f.ktKeywords.scrapeUrls&&void 0!==f.ktKeywords.scrapeUrls[t]&&void 0!==f.ktKeywords.scrapeUrls[t][1]?f.ktKeywords.scrapeUrls[t][1]:null,l=!1,c={},u=0,d=!1;0<h(".notice-wait-loading").length&&window.setTimeout(function(){h(".notice-wait-loading").removeClass("hidden")},4e4),h(".search-results .nav li a").removeAttr("data-toggle").removeAttr("href"),h("input, select, textarea, button",".tab-settings").attr("disabled","disabled");var p=function(e,t){var r=h(".form-keyword-search-results",e);h.each(t,function(e,t){if(t=(t=t.toString()).replace(h('<textarea class="dummy hidden" />').html(f.ktKeywords.keywordParams.keyword).text(),"<span>"+h('<textarea class="dummy hidden" />').html(f.ktKeywords.keywordParams.keyword).text()+"</span>"),!(0<h(".table-search-results tbody tr .col-keywords .loading",r).length))return!1;h(".table-search-results tbody tr .col-keywords .loading:first",r).parent().html(t)})},m=function(e){var r="jsonp";(-1!==[f.ktKeywords.searchEngines.instagram].indexOf(parseInt(f.ktKeywords.keywordParams.search_engine,10))||-1!==[f.ktKeywords.searchEngines.amazon].indexOf(parseInt(f.ktKeywords.keywordParams.search_engine,10))&&-1!==[f.ktKeywords.searchTypes.products].indexOf(parseInt(f.ktKeywords.keywordParams.search_type,10)))&&(r="json"),h.each(e,function(e,o){var t={url:o,dataType:r,timeout:12e3};parseInt(g.settings.ktKeywords.keywordParams.search_engine,10)===g.settings.ktKeywords.searchEngines.amazon&&(delete t.dataType,t.jsonp="jsonp"),h.ajax(t).done(function(e,t,r){if(void 0!==r.status&&200===parseInt(r.status,10))switch(c[o]={response:e},parseInt(f.ktKeywords.keywordParams.search_engine,10)){case f.ktKeywords.searchEngines.amazon:void 0!==e.suggestions&&h.each(e.suggestions,function(e,t){var r=[];void 0!==t.type&&"KEYWORD"===t.type&&r.push(t.value),p(i,r)});break;case f.ktKeywords.searchEngines.bing:void 0!==e[1]&&p(i,e[1]);break;case f.ktKeywords.searchEngines.ebay:void 0!==e.res&&void 0!==e.res.sug&&p(i,e.res.sug);break;case f.ktKeywords.searchEngines.google:case f.ktKeywords.searchEngines.youtube:var a=null;if(void 0!==e[1]&&void 0!==e[4]){if(void 0!==e[4]["google:suggesttype"])for(a=e[4]["google:suggesttype"].length;a--;)void 0!==e[4]["google:suggesttype"][a]&&"QUERY"!==e[4]["google:suggesttype"][a]&&e[1].splice(a,1);p(i,e[1])}else if(void 0!==e[1]&&void 0!==e[2]&&void 0!==e[2].q){if(0<e[1].length){var n=[];for(a=e[1].length;a--;)n.push(e[1][a][0])}p(i,n)}break;case f.ktKeywords.searchEngines.googlePlay:void 0!==e[0]&&void 0!==e[0].s&&h.each(e,function(e,t){var r=[];void 0!==t.s&&"q"===t.t&&r.push(t.s),p(i,r)});break;case f.ktKeywords.searchEngines.instagram:void 0!==e.hashtags&&h.each(e.hashtags,function(e,t){var r=[];void 0!==t.hashtag.name&&r.push("#"+t.hashtag.name),p(i,r)}),void 0!==e.users&&h.each(e.users,function(e,t){var r=[];void 0!==t.user.username&&(void 0!==t.user.full_name&&t.user.full_name?r.push("@"+t.user.username+" ("+t.user.full_name+")"):r.push("@"+t.user.username)),p(i,r)}),void 0!==e.res&&void 0!==e.res.sug&&p(i,e.res.sug)}else c[o]={error:!0},l=!0}).fail(function(e,t,r){c[o]={error:!0},l=!0}).always(function(e,t,r){if((u-=1)<=0)if(s&&!0===l&&!1===d){for(var a in c={},d=!(u=0),s)s.hasOwnProperty(a)&&u++;0<u&&m(s)}else h('textarea[name="'+f.ktKeywords.payloadName+'"]',n).val(JSON.stringify(c)),h('.form-actions .form-submit[name="update"]',n).trigger("click")})})};if(r){for(var a in r)r.hasOwnProperty(a)&&u++;0<u&&m(r)}r||s||h('.form-actions .form-submit[name="update"]',n).trigger("click")})}},e}(ktKeywordsSearchResultsScrape||{},jQuery,Drupal),ktKeywordsSearchResults=function(e,m,t,r){return t.behaviors.ktKeywordsSearchResults={attach:function(e,p){m(".form-keyword-search-results .pagination li a").on("click",function(e){e.preventDefault(),e.stopImmediatePropagation();var t=m(this).attr("href");if(t){var r=ktCommon.getParameterByName("page",t);r||(r=0),m(this).parents(".form-keyword-search-results").find('input[name="page"]').val(r),m(this).parents(".form-keyword-search-results").find('.form-actions .form-submit[name="update"]').trigger("click"),window.scrollTo(0,0)}}),m(".search-results .nav-tabs li a",e).on("shown.bs.tab",function(e){var t=m(e.relatedTarget).attr("data-tab"),r=m(e.target).attr("data-tab"),a=m(m(e.target).attr("data-href")),n=m(".form-keyword-search-results",a),o=m('input[name="is_analyze_competitors"]',n).val();window.location.hash=r;var i=void 0!==ktKeywords.title[r]?ktKeywords.title[r]:"";switch(i&&(document.title=i),o||Cookies.set("Drupal.visitor.keywordResultsSearchType",r,{expires:365,path:p.basePath}),"true"===m(n).attr("data-pending-update")&&m('.form-actions .form-submit[name="update"]',n).trigger("click"),m('.tab-pane[data-tab="'+t+'"] .table-search-results tbody tr.row-targeted-monthly-searches .chartjs-hidden-iframe, .tab-pane[data-tab="'+t+'"] .table-summary-results tbody tr.row-targeted-monthly-searches .chartjs-hidden-iframe').each(function(){var e=m(this).parents("tr").find(".chart-targeted-monthly-searches").data("chartjs");void 0!==e&&(ktCommonChartJs.setChartJsGlobalDefaults(),e.update())}),r){case"products":m("#tab-settings-search-volume").hide();break;default:m("#tab-settings-search-volume").show()}}),m("body",e).once("ktKeywordsSearchTypeActive").each(function(){var e=null,t=null;m("body").hasClass("page-tutorial")||(e=window.location.hash.substr(1),t=Cookies.get("Drupal.visitor.keywordResultsSearchType")),e&&0<m('.search-results .nav-tabs li a[data-tab="'+e+'"]').length?m('.search-results .nav-tabs li a[data-tab="'+e+'"]').tab("show"):t&&0<m('.search-results .nav-tabs li a[data-tab="'+t+'"]').length?m('.search-results .nav-tabs li a[data-tab="'+t+'"]').tab("show"):m(".search-results .nav-tabs li:first a").tab("show")}),m('.form-submit[name="update"]',e).on("click",function(e){e.stopImmediatePropagation(),m(this).parents(".form-keyword-search-results").find(".progress-indeterminate-wrapper").removeClass("hidden")}),t.ajax.prototype.commands.ktKeywordsResultsAjaxUpdate=function(e,t){var r=void 0!==t.searchType?t.searchType:"",a=void 0!==t.searchTypeId?t.searchTypeId:"",n=void 0!==t.title?t.title:"",o=void 0!==t.countKeywords?t.countKeywords:0,i=void 0!==t.countSelected?t.countSelected:0,s=void 0!==t.filterKeywords?t.filterKeywords:0,l=void 0!==t.allSearchVolumeNa&&t.allSearchVolumeNa;m(m('.nav-tabs li a[data-tab="'+r+'"]').attr("data-href")).find(".progress-indeterminate-wrapper").addClass("hidden"),n&&(ktKeywords.title[r]=n,document.title=n),ktCommon.initCarousel(),ktKeywordsMonthlySearchVolume.initSearchVolumeTrendMiniChart(),m(m('.nav-tabs li a[data-tab="'+r+'"]').attr("data-href")).find(".form-keyword-search-results .panel-search-results-summary .btn-targeted-monthly-searches").trigger("click"),m(m('.nav-tabs li a[data-tab="'+r+'"]').attr("data-href")).find(".form-keyword-search-results .table-search-results tbody tr:first .btn-interest-over-time").trigger("click"),m("body").once("ktKeywordsGoogleTrendsEmbedInit",function(){setTimeout(function(){m("tr.row-interest-over-time:first .widget-interest-over-time > iframe").attr("src",m("tr.row-interest-over-time:first .widget-interest-over-time > iframe").attr("src"))},1e3)});var c=p.ktKeywords.keywordParams.country;"GLB"==c&&(c="");var u=void 0!==p.ktKeywords.keywordParams.google_trends_property?p.ktKeywords.keywordParams.google_trends_property:"";ktKeywordsGoogleTrends.ktKeywordsGoogleTrendsInterestOverTime(document.getElementById("summary-results-trends-interest-over-time-"+a),p.ktKeywords.keywordParams.keyword,c,u),ktKeywordsGoogleTrends.ktKeywordsGoogleTrendsInterestByRegion(document.getElementById("summary-results-trends-interest-by-subregion-"+a),p.ktKeywords.keywordParams.keyword,c,u),ktKeywordsGoogleTrends.ktKeywordsGoogleTrendsRelatedTopics(document.getElementById("summary-results-trends-related-topics-"+a),p.ktKeywords.keywordParams.keyword,c,u),ktKeywordsGoogleTrends.ktKeywordsGoogleTrendsRelatedQueries(document.getElementById("summary-results-trends-related-queries-"+a),p.ktKeywords.keywordParams.keyword,c,u),m(m('.nav-tabs li a[data-tab="'+r+'"]').attr("data-href")).find('.table-search-results thead .col-checkbox input[name="selection[]"]').removeClass("hidden"),ktKeywords.countKeywords[r]=o;var d=m('div[data-tab="'+r+'"] .table-search-results tbody .col-checkbox input[name="selection[]"]:checked').length;if(ktKeywords.countTotalSelected[r]=i,ktKeywords.countSelected[r]=i-d,ktKeywords.filterKeywords=s,ktCommon.initPopoverAndTooltip(),ktKeywordsSearchResultsSort.initSortDropdown(),l&&-1!==[p.ktKeywords.searchEngines.appStore].indexOf(parseInt(p.ktKeywords.keywordParams.search_engine,10))&&-1!==[p.ktKeywords.searchEngines.googlePlay].indexOf(parseInt(p.ktKeywords.keywordParams.search_engine,10))&&-1!==[p.ktKeywords.searchEngines.twitter].indexOf(parseInt(p.ktKeywords.keywordParams.search_engine,10))&&m(".form-keyword-search-results .form-item-sort:visible").addClass("hidden"),m('.tab-pane[data-tab="'+r+'"] .form-keyword-search-results').removeAttr("data-pending-update"),m("body").hasClass("page-tutorial")&&void 0!==p.ktPages&&void 0!==p.ktPages.tutorial)switch(parseInt(m('.tab-pane[data-tab="'+r+'"] .form-keyword-search-results input[name="tutorial_step"]').val(),10)){case 1:void 0!==p.ktPages.tutorial.step1&&setTimeout(function(){m(p.ktPages.tutorial.step1.selector).popover("show")},500);break;case 6:void 0!==p.ktPages.tutorial.step6&&setTimeout(function(){m(p.ktPages.tutorial.step6.selector).popover("show")},500)}void 0!==p.ktKeywords.proUpsellReplace&&p.ktKeywords.proUpsellReplace&&m(".pro-upsell").replaceWith(p.ktKeywords.proUpsellReplace),void 0!==p.ktKeywords.proUpsellAffixReplace&&p.ktKeywords.proUpsellAffixReplace&&(m(".pro-upsell-table").html(p.ktKeywords.proUpsellAffixReplace),setTimeout(function(){m(".pro-upsell-table").html(p.ktKeywords.proUpsellAffixReplace)},500)),m(".notice-wait-loading").remove()},t.ajax.prototype.commands.ktKeywordsResultsAjaxUpdateTrigger=function(e,t){var r=m(".form-keyword-search-results:visible");m(".form-keyword-search-results").attr("data-pending-update","true"),m('.form-keyword-search-results input[name="page"]').val("0"),m('.form-actions .form-submit[name="update"]',r).trigger("click"),m("body").hasClass("page-search")&&window.setTimeout(function(){m('.messages[role="alert"][class*="bg-success"]').remove()},5e3),window.scrollTo(0,0)}}},e}(ktKeywordsSearchResults||{},jQuery,Drupal),ktKeywordsSearchResultsSort=function(r,a,e,t){return Drupal.behaviors.ktKeywordsSearchResultsSort={attach:function(e,t){r.initSortDropdown=function(){a('.form-keyword-search-results select[name="sort"]').select2({containerCssClass:a('.form-keyword-search-results select[name="sort"]:visible').hasClass("highlight")?"highlight":"",minimumResultsForSearch:1/0,width:"18em"})},r.initSortDropdown(),a('.form-keyword-search-results select[name="sort"]').on("change",function(e){e.stopImmediatePropagation();var t=a(this).val();a('.form-keyword-search-results select[name="sort"]').val(t),a('.form-keyword-search-results input[name="page"]').val("0"),a(".form-keyword-search-results").attr("data-pending-update","true"),a(this).parents(".form-keyword-search-results").find('.form-actions .form-submit[name="update"]').trigger("click")}),a(".form-keyword-search-results .table-search-results > thead label span").on("click",function(e){e.stopImmediatePropagation();var t=a(this).attr("data-sort");t&&a(this).parents(".form-keyword-search-results").find('select[name="sort"]').val(t).trigger("change")})}},r}(ktKeywordsSearchResultsSort||{},jQuery),ktKeywordsSearchResultsSelection=function(e,u,d,t){return d.behaviors.ktKeywordsSearchResultsSelection={attach:function(e,c){u('.table-search-results thead .col-checkbox input[name="selection[]"]').on("change",function(e){e.stopImmediatePropagation();var t=u(this).parents(".tab-pane").attr("data-tab"),r=0;u(this).prop("checked")?(u(this).parents(".table-search-results").find("> tbody > tr").addClass("active"),u(this).parents(".table-search-results").find('tbody .col-checkbox input[name="selection[]"]').prop("checked",!0),r=void 0!==ktKeywords.countKeywords[t]?ktKeywords.countKeywords[t]:0):(u(this).parents(".table-search-results").find("> tbody > tr").removeClass("active"),u(this).parents(".table-search-results").find('tbody .col-checkbox input[name="selection[]"]').prop("checked",!1),u(this).parents(".form-keyword-search-results").find('select[name="selection[]"] option').remove(),u('.modal-body textarea[name="copy_keywords"], .modal-body textarea[name="copy_selected"]').val(""),void 0!==ktKeywords.countSelected[t]&&(ktKeywords.countSelected[t]=0));var a=numeral(r).format("0,0");0<r?u(this).parents(".form-keyword-search-results").find(".btn-link.btn-copy").attr("data-copy","selected"):u(this).parents(".form-keyword-search-results").find(".btn-link.btn-copy").attr("data-copy","all"),u(this).parents(".form-keyword-search-results").find('.btn-copy[data-copy="selected"] span:not(".glyphicon")').html(d.t(c.ktKeywords.translations.copyCount,{"!count":numeral(a).format("0,0")})),0<r?u(this).parents(".form-keyword-search-results").find('.btn-copy-export span:not(".glyphicon"):not(".caret")').html(d.t(c.ktKeywords.translations.exportCount,{"!count":numeral(a).format("0,0")})):u(this).parents(".form-keyword-search-results").find('.btn-copy-export span:not(".glyphicon"):not(".caret")').html(d.t(c.ktKeywords.translations.export))}),u('.table-search-results tbody .col-checkbox input[name="selection[]"]').on("change",function(e){e.stopImmediatePropagation();var t=u(this).parents(".tab-pane").attr("data-tab"),r=u(this).val(),a=u(this).parents("tr"),n=u(this).parents(".table-search-results").find('tr[data-rel="'+u(this).parents("tr").find(".col-search-volume .btn-targeted-monthly-searches").attr("data-rel")+'"]'),o=u(this).parents("tbody").find('.col-checkbox input[name="selection[]"]').length,i=u(this).parents("tbody").find('.col-checkbox input[name="selection[]"]:checked').length,s=(void 0!==ktKeywords.countSelected[t]?ktKeywords.countSelected[t]:0)+i,l=numeral(s).format("0,0");u(this).prop("checked")?(u(a).addClass("active"),u(n).addClass("active")):(u(a).removeClass("active"),u(n).removeClass("active"),u(this).parents(".form-keyword-search-results").find('select[name="selection[]"] option[value="'+r+'"]').remove()),i===o?u(this).parents(".table-search-results").find('thead .col-checkbox input[name="selection[]"]').prop("checked",!0):(u(this).parents(".table-search-results").find('thead .col-checkbox input[name="selection[]"]').prop("checked",!1),u(this).parents(".form-keyword-search-results").find('select[name="selection[]"] option[value=""]').remove()),0<s?u(this).parents(".form-keyword-search-results").find(".btn-link.btn-copy").attr("data-copy","selected"):u(this).parents(".form-keyword-search-results").find(".btn-link.btn-copy").attr("data-copy","all"),u(this).parents(".form-keyword-search-results").find('.btn-copy[data-copy="selected"] span:not(".glyphicon")').html(d.t(c.ktKeywords.translations.copyCount,{"!count":numeral(l).format("0,0")})),0<s?u(this).parents(".form-keyword-search-results").find('.btn-copy-export span:not(".glyphicon"):not(".caret")').html(d.t(c.ktKeywords.translations.exportCount,{"!count":numeral(l).format("0,0")})):u(this).parents(".form-keyword-search-results").find('.btn-copy-export span:not(".glyphicon"):not(".caret")').html(d.t(c.ktKeywords.translations.export))}),u(".table-search-results tbody .col-keywords").on("click",function(e){e.stopImmediatePropagation();var t=u(this).parents("tr").find('.col-checkbox input[name="selection[]"]');u(t).prop("checked")?u(t).prop("checked",!1):u(t).prop("checked",!0),u(t).trigger("change")})}},e}(ktKeywordsSearchResultsSelection||{},jQuery,Drupal),ktKeywordsSearchResultsCopy=function(e,m,n,t){return n.behaviors.ktKeywordsSearchResultsCopy={attach:function(e,p){var t=new ClipboardJS(document.querySelectorAll(".btn-copy"),{text:function(e){var t=m(e),r=m(t).parents(".form-keyword-search-results"),a=parseInt(m('input[name="search_type"]',r).val(),10),n=m(".copy-modal",r),o=m('.modal-body textarea[name="copy_keywords"]',n),i=m('.modal-body textarea[name="copy_all"]',n).val().trim().split("\n"),s=m(t).attr("data-copy"),l="\n";switch(parseInt(p.ktKeywords.keywordParams.search_engine,10)){case p.ktKeywords.searchEngines.instagram:l=" ";break;case p.ktKeywords.searchEngines.youtube:switch(a){case p.ktKeywords.searchTypes.hashtags:l=" ";break;default:l=",\n"}}var c=null,u=null,d=m('.table-search-results tbody .col-checkbox input[name="selection[]"]:not(:checked)',r);switch(s){case"selected":c=m('.modal-body textarea[name="copy_selected"]',n),u=m('.table-search-results tbody .col-checkbox input[name="selection[]"]:checked',r),m('.table-search-results thead .col-checkbox input[name="selection[]"]',r).is(":checked")&&1<u.length&&(c=m('.modal-body textarea[name="copy_all"]',n),u=m('.table-search-results tbody .col-checkbox input[name="selection[]"]',r));break;default:c=m('.modal-body textarea[name="copy_all"]',n),u=m('.table-search-results tbody .col-checkbox input[name="selection[]"]',r)}return m(n).on("shown.bs.modal",function(e){m('.modal-body textarea[name="copy_keywords"]',this).select()}),m(o).val(m(c).val().trim()),m(u).each(function(){var e=m(this).val();e&&m(o).val(m(o).val().trim()+"\n"+e)}).promise().done(function(){var r=m(o).val().trim();if(r=r.split("\n"),"selected"==s&&m(d).each(function(){var e=m(this).val();if(e){var t=m.inArray(e,r);0<=t&&r.splice(t,1)}}),0<r.join("\n").trim().length){switch((r=ktCommon.uniqueArray(r)).sort(function(e,t){return i.indexOf(e)>i.indexOf(t)?1:-1}),parseInt(p.ktKeywords.keywordParams.search_engine,10)){case p.ktKeywords.searchEngines.instagram:switch(a){case p.ktKeywords.searchTypes.hashtags:r=r.map(function(e){return"#"+e});break;case p.ktKeywords.searchTypes.people:r=r.map(function(e){return"@"+e.split(" ")[0]})}}m(t).attr("data-count-keywords",r.length),m(o).val(r.join(l))}else m(t).attr("data-count-keywords",0),m(o).val(""),m(t).attr("data-count-keywords",0),m(e).attr("data-title",p.ktKeywords.translations.noKeywordsCopy).attr("data-original-title",p.ktKeywords.translations.noKeywordsCopy).tooltip("fixTitle").tooltip("show"),window.setTimeout(function(){m(e).tooltip("hide")},2e3)}),copyText=m(t).parents(".form-keyword-search-results").find('.copy-modal .modal-body textarea[name="copy_keywords"]').val(),copyText}});t.on("success",function(e){var t=m(e.trigger).attr("data-count-keywords"),r=null;if(0<t)if(r=1<t?n.t(p.ktKeywords.translations.keywordsCopiedToClipboard,{"!count":numeral(t).format("0,0")}):n.t(p.ktKeywords.translations.keywordCopiedToClipboard,{"!count":numeral(t).format("0,0")}),t=numeral(t).format("0,0"),m(e.trigger).hasClass("btn-link")){m(e.trigger).parents(".btn-group-copy-export").find(".dropdown-toggle").dropdown("toggle");var a=m(e.trigger).parents(".btn-group-copy-export").attr("data-title",r).attr("data-original-title",r).attr("data-placement","left").attr("data-trigger","manual").tooltip("fixTitle").tooltip("show");window.setTimeout(function(){a.tooltip("destroy")},2e3)}else a=m(e.trigger).attr("data-title",r).attr("data-original-title",r).tooltip("fixTitle").tooltip("show"),window.setTimeout(function(){a.tooltip("hide")},2e3);e.clearSelection()}),t.on("error",function(e){var t=m(e.trigger).parents(".form-keyword-search-results").find(".copy-modal");m(t).modal({backdrop:!0,show:!0})}),m(".btn-copy",e).on("click",function(e){e.preventDefault(),e.stopImmediatePropagation()})}},e}(ktKeywordsSearchResultsCopy||{},jQuery,Drupal),ktKeywordsSearchResultsExport=function(e,u,r,t){return r.behaviors.ktKeywordsSearchResultsExport={attach:function(e,t){r.ajax.prototype.commands.ktKeywordsResultsAjaxExport=function(e,t){var r=void 0!==t.searchType?t.searchType:"",a=u('.tab-pane[data-tab="'+r+'"] .form-keyword-search-results'),n=u(".copy-modal",a),o=u('.modal-body textarea[name="copy_keywords"]',n),i=u('.modal-body textarea[name="copy_all"]',n).val().trim().split("\n"),s=void 0!==ktKeywords.countTotalSelected[r]?ktKeywords.countTotalSelected[r]:0,l=u('.modal-body textarea[name="copy_selected"]',n),c=u('.table-search-results tbody .col-checkbox input[name="selection[]"]:checked',a);(u('.table-search-results thead .col-checkbox input[name="selection[]"]',a).is(":checked")||s<=0)&&(l=u('.modal-body textarea[name="copy_all"]',n),c=u('.table-search-results tbody .col-checkbox input[name="selection[]"]',a)),u(o).val(u(l).val().trim()),u(c).each(function(){var e=u(this).val();e&&u(o).val(u(o).val().trim()+"\n"+e)}).promise().done(function(){var e=u(o).val().trim();0<e.length?(e=e.split("\n"),(e=ktCommon.uniqueArray(e)).sort(function(e,t){return i.indexOf(e)>i.indexOf(t)?1:-1}),u('#search-results-export-form textarea[name="keywords"]').val(e.join("\n")),u("#search-results-export-form").trigger("submit")):u('#search-results-export-form textarea[name="keywords"]').val("")})}}},e}(ktKeywordsSearchResultsExport||{},jQuery,Drupal),ktKeywordsSearchResultsUpsell=function(o,i,e,t){return Drupal.behaviors.ktKeywordsSearchResultsUpsell={attach:function(e,a){var t,r,n=i(".pro-upsell-table:visible");o.ktKeywordsSearchResultsUpsellRecalculateOffset=function(){if(void 0!==a.ktKeywords){var e=void 0!==a.ktKeywords.freeShowDataHasDataCount?a.ktKeywords.freeShowDataHasDataCount:0;e<5&&(e=5);var t=parseInt(i(n).parents("thead").find("tr:not(.pro-upsell-row)").css("height"),10)+parseInt(i(n).parents(".table-search-results").find("tbody > tr > .col-search-volume-trend > .btn-targeted-monthly-searches").parent("td").css("height"),10)*e+20,r=0;i(".table-search-results:visible > tbody > tr.row-targeted-monthly-searches:visible").each(function(){r+=parseInt(i(this).css("height"),10)}),t+=r,i(n).css("top",t+"px")}},o.ktKeywordsSearchResultsUpsellRecalculateOffset(),(r=function(){i(".pro-upsell-table:visible").css("width",.9*parseFloat(i(".pro-upsell-row:visible .colspan").css("width")))})(),i(window).resize(function(){clearTimeout(t),t=setTimeout(function(){r()},500)})}},o}(ktKeywordsSearchResultsUpsell||{},jQuery),ktPages=function(e,r,t,a){return Drupal.behaviors.ktPages={attach:function(e,t){r("#block-kt-pages-start-searching .btn").on("click",function(){return window.scrollTo(0,0),r('.form-keyword-search:visible input[name="keyword"]').focus(),!1}),r("ul.navbar-nav li.btn-analyze-competitors[data-cta] a, ul.navbar-nav li.btn-check-search-volume[data-cta] a").on("click",function(e){e.preventDefault(),r(".pro-upsell-menu").remove(),function(e){if(r(".pro-upsell-menu").length<=0&&void 0!==r(e).parent().attr("data-cta")){var t='<div class="row pro-upsell-menu"><div class="col-md-8 col-md-offset-2"><div class="messages bg-warning alert alert-warning margin-b-1 text-center" role="alert"><button type="button" class="close" aria-label="Close"><span aria-hidden="true">×</span></button><strong>'+r(e).parent().attr("data-cta")+"</strong></div></div></div>";0<r("#main > .container").length?r("#main > .container").prepend(t):0<r("#main > .container-fluid").length&&r("#main > .container-fluid").prepend(t)}}(r(this))}),r(document).on("click",".pro-upsell-menu .close",function(e){r(".pro-upsell-menu").remove()}),0<r('.form-metrics-location-search-form select[name="locations[]"][data-search-engine="1"]').length&&r('.form-metrics-location-search-form select[data-name="location"][data-search-engine="1"]').select2({ajax:{url:t.basePath+t.pathPrefix+"v2/locations/google",dataType:"json",delay:200,data:function(e){return{keyword:e.term}},processResults:function(e,t){return{results:e=r.map(e,function(e,t){return{id:t,text:e}})}},cache:!0},minimumInputLength:1,width:"100%"}),0<r('.form-metrics-location-search-form select[name="locations[]"][data-search-engine="3"]').length&&r('.form-metrics-location-search-form select[data-name="location"][data-search-engine="3"]').select2({ajax:{url:t.basePath+t.pathPrefix+"v2/locations/bing",dataType:"json",delay:200,data:function(e){return{keyword:e.term}},processResults:function(e,t){return{results:e=r.map(e,function(e,t){return{id:t,text:e}})}},cache:!0},minimumInputLength:1,width:"100%"}),r("body").once("ktPagesGoogleTrendsEmbedInit",function(){setTimeout(function(){r('iframe[src*="trends.google.com"]').attr("src",r('iframe[src*="trends.google.com"]').attr("src"))},1e3)})}},e}(ktPages||{},jQuery),ktPagesImageSearch=function(e,r,t,a){return Drupal.behaviors.ktPagesImageSearch={attach:function(e,t){r("#kt-pages-image-search-form").on("submit",function(){setTimeout(function(){r("#kt-pages-image-search-form").trigger("reset")},150)})}},e}(ktPages||{},jQuery),ktPagesWordCounter=function(e,d,p,t){return p.behaviors.ktPagesWordCounter={attach:function(e,t){0<d(".word-counter textarea.form-control").length&&Countable.on(d(".word-counter textarea.form-control")[0],function(e){var t=numeral(e.characters).format("0,0"),r=p.t("character (no spaces)");1<e.characters&&(r=p.t("characters (no spaces)")),d(".word-counter .word-counter-value-char").text(t),d(".word-counter .word-counter-label-char").text(r);var a=numeral(e.all).format("0,0"),n=p.t("character (with spaces)");1<e.all&&(n=p.t("characters (with spaces)")),d(".word-counter .word-counter-value-all").text(a),d(".word-counter .word-counter-label-all").text(n);var o=numeral(e.words).format("0,0"),i=p.t("word");1<e.words&&(i=p.t("words")),d(".word-counter .word-counter-value-word").text(o),d(".word-counter .word-counter-label-word").text(i),1<e.sentences&&(e.sentences-=1);var s=numeral(e.sentences).format("0,0"),l=p.t("sentence");1<e.sentences&&(l=p.t("sentences")),d(".word-counter .word-counter-value-sentence").text(s),d(".word-counter .word-counter-label-sentence").text(l);var c=numeral(e.paragraphs).format("0,0"),u=p.t("paragraph");1<e.paragraphs&&(u=p.t("paragraphs")),d(".word-counter .word-counter-value-para").text(c),d(".word-counter .word-counter-label-para").text(u)})}},e}(ktPages||{},jQuery,Drupal),ktSubscription=function(e,c,t,r){return Drupal.behaviors.ktSubscription={attach:function(e,i){var s=c(".form-checkout"),l=c(".form-submit",s);0<c(s).length&&(0<c('input[name="name"]',s).length&&(c.fn.ktSubscriptionValidateName=function(){0<c.trim(c('input[name="name"]',s).val()).length?(c('input[name="name"]',s).parent(".form-item").removeClass("has-success").removeClass("has-error").addClass("has-success"),c('input[name="name"]',s).parent(".form-item").find(".glyphicon").removeClass("hidden").addClass("hidden"),c('input[name="name"]',s).parent(".form-item").find(".glyphicon-ok").removeClass("hidden")):(c('input[name="name"]',s).parent(".form-item").removeClass("has-success").removeClass("has-error").addClass("has-error"),c('input[name="name"]',s).parent(".form-item").find(".glyphicon").removeClass("hidden").addClass("hidden"),c('input[name="name"]',s).parent(".form-item").find(".glyphicon-remove").removeClass("hidden"))},c('input[name="name"]',s).on("blur",function(){c().ktSubscriptionValidateName()}),0<c.trim(c('input[name="name"]',s).val()).length&&c().ktSubscriptionValidateName()),0<c('input[name="email"]',s).length&&(c.fn.ktSubscriptionValidateEmail=function(){0<c.trim(c('input[name="email"]',s).val()).length&&ktCommon.validEmail(c('input[name="email"]',s).val())?(c('input[name="email"]',s).parent(".form-item").removeClass("has-success").removeClass("has-error").addClass("has-success"),c('input[name="email"]',s).parent(".form-item").find(".glyphicon").removeClass("hidden").addClass("hidden"),c('input[name="email"]',s).parent(".form-item").find(".glyphicon-ok").removeClass("hidden")):(c('input[name="email"]',s).parent(".form-item").removeClass("has-success").removeClass("has-error").addClass("has-error"),c('input[name="email"]',s).parent(".form-item").find(".glyphicon").removeClass("hidden").addClass("hidden"),c('input[name="email"]',s).parent(".form-item").find(".glyphicon-remove").removeClass("hidden"))},c('input[name="email"]',s).on("blur",function(){c().ktSubscriptionValidateEmail()}),0<c.trim(c('input[name="email"]',s).val()).length&&c().ktSubscriptionValidateEmail()),c.fn.ktSubscriptionCheckoutSubmit=function(){c(".checkout-modal").modal({backdrop:"static",keyboard:!1}),c(".messages",s).remove(),l.trigger("subscriptionCheckoutSubmit")},c(s).once("ktSubscription").off("submit").on("submit",function(e){e.preventDefault()}),c("body",e).once("ktSubscriptionInitPaymentGateway").each(function(){try{if(c("#card-number").length<=0)return c(l).prop("disabled",!1),void document.querySelector(".form-checkout").addEventListener("submit",function(e){e.preventDefault(),c(l).button("loading"),c().ktSubscriptionCheckoutSubmit()},!1);switch(i.ktSubscription.paymentGateway){case"stripe":var e=stripe.elements(),t={hidePostalCode:!0,hideIcon:!0,style:{base:{color:"#333",fontFamily:"Helvetica, Arial, sans-serif",fontSize:"16px",lineHeight:"24px"},invalid:{color:"#333"}}},r=e.create("cardNumber",c.extend({},t,{placeholder:""}));r.mount("#card-number");var a=e.create("cardExpiry",t);a.mount("#card-expiry");var n=e.create("cardCvc",c.extend({},t,{placeholder:""}));n.mount("#card-cvv"),c("#card-number, #card-expiry, #card-cvv").parent(".form-item").removeClass("has-success").removeClass("has-error"),c("#card-number, #card-expiry, #card-cvv").parent(".form-item").find(".glyphicon").removeClass("hidden").addClass("hidden"),r.addEventListener("ready",function(e){c(l).prop("disabled",!1)});var o=function(e,t){t.empty?(c(e).parent(".form-item").removeClass("has-success").removeClass("has-error").addClass("has-error"),c(e).parent(".form-item").find(".glyphicon").removeClass("hidden").addClass("hidden"),c(e).parent(".form-item").find(".glyphicon-remove").removeClass("hidden")):(c(e).parent(".form-item").removeClass("has-success").removeClass("has-error"),c(e).parent(".form-item").find(".glyphicon").removeClass("hidden").addClass("hidden"),t.error?(c(e).parent(".form-item").removeClass("has-success").removeClass("has-error").addClass("has-error"),c(e).parent(".form-item").find(".glyphicon").removeClass("hidden").addClass("hidden"),c(e).parent(".form-item").find(".glyphicon-remove").removeClass("hidden")):t.complete&&(c(e).parent(".form-item").removeClass("has-success").removeClass("has-error").addClass("has-success"),c(e).parent(".form-item").find(".glyphicon").removeClass("hidden").addClass("hidden"),c(e).parent(".form-item").find(".glyphicon-ok").removeClass("hidden")))};r.addEventListener("change",function(e){if(o("#card-number",e),c(".payment-methods .payment-method",s).removeClass("disabled").addClass("disabled"),void 0!==e.brand){switch(e.brand){case"visa":c(".payment-methods .payment-method.visa",s).removeClass("disabled");break;case"mastercard":c(".payment-methods .payment-method.mastercard",s).removeClass("disabled");break;case"amex":c(".payment-methods .payment-method.amex",s).removeClass("disabled")}(e.error||e.empty)&&c(".payment-methods .payment-method",s).removeClass("disabled"),e.error&&"undefined"!=typeof Sentry&&Sentry.captureException(e.error)}}),a.addEventListener("change",function(e){o("#card-expiry",e)}),n.addEventListener("change",function(e){o("#card-cvv",e)}),document.querySelector(".form-checkout").addEventListener("submit",function(e){e.preventDefault(),c(l).button("loading"),stripe.createToken(r).then(function(e){c('input[name="stripe_token"]',s).val(""),void 0!==e.token&&void 0!==e.token.id&&c('input[name="stripe_token"]',s).val(e.token.id),void 0!==e.error&&e.error&&"undefined"!=typeof Sentry&&Sentry.captureException(e.error),c().ktSubscriptionCheckoutSubmit()})},!1);break;default:braintree.client.create({authorization:i.ktSubscription.braintree.clientToken},function(e,t){var r,a;e?"undefined"!=typeof Sentry&&Sentry.captureException(e):(a={client:r=t,styles:{input:{color:"#333","font-family":"Helvetica, Arial, sans-serif","font-size":"16px","line-height":"24px"},":focus":{},".valid":{}},fields:{number:{selector:"#card-number"},cvv:{selector:"#card-cvv"},expirationDate:{selector:"#card-expiry",placeholder:"MM / YYYY"}}},"processed"!==c(s).attr("data-kount-processed")&&(braintree.dataCollector.create({client:r,kount:!0},function(e,t){e?"undefined"!=typeof Sentry&&Sentry.captureException(e):(c('input[name="device_data"]',s).val(""),void 0!==t&&"undefined"!==t.deviceData&&c('input[name="device_data"]',s).val(t.deviceData))}),c(s).attr("data-kount-processed","processed")),braintree.hostedFields.create(a,function(e,t){if(e)"undefined"!=typeof Sentry&&Sentry.captureException(e);else{c("#card-number, #card-expiry, #card-cvv").parent(".form-item").removeClass("has-success").removeClass("has-error"),c("#card-number, #card-expiry, #card-cvv").parent(".form-item").find(".glyphicon").removeClass("hidden").addClass("hidden"),c(l).prop("disabled",!1);var r=function(e){var t=e.fields[e.emittedBy];t.isValid?(c(t.container).parent(".form-item").removeClass("has-success").removeClass("has-error").addClass("has-success"),c(t.container).parent(".form-item").find(".glyphicon").removeClass("hidden").addClass("hidden"),c(t.container).parent(".form-item").find(".glyphicon-ok").removeClass("hidden")):(t.isPotentiallyValid,c(t.container).parent(".form-item").removeClass("has-success").removeClass("has-error").addClass("has-error"),c(t.container).parent(".form-item").find(".glyphicon").removeClass("hidden").addClass("hidden"),c(t.container).parent(".form-item").find(".glyphicon-remove").removeClass("hidden"))};t.on("cardTypeChange",function(e){if(c(".payment-methods .payment-method",s).removeClass("disabled").addClass("disabled"),void 0!==e.cards&&void 0!==e.cards[0]&&void 0!==e.cards[0].type){var t=e.cards[0].type;switch(t){case"visa":c(".payment-methods .payment-method.visa",s).removeClass("disabled");break;case"master-card":c(".payment-methods .payment-method.mastercard",s).removeClass("disabled");break;case"american-express":c(".payment-methods .payment-method.amex",s).removeClass("disabled")}1<e.cards.length&&c(".payment-methods .payment-method",s).removeClass("disabled")}}),t.on("empty",function(e){var t=e.fields[e.emittedBy];c(".payment-methods .payment-method",s).removeClass("disabled"),c(t.container).parent(".form-item").removeClass("has-success").removeClass("has-error").addClass("has-error"),c(t.container).parent(".form-item").find(".glyphicon").removeClass("hidden").addClass("hidden"),c(t.container).parent(".form-item").find(".glyphicon-remove").removeClass("hidden")}),t.on("notEmpty",function(e){r(e)}),t.on("validityChange",function(e){r(e)}),document.querySelector(".form-checkout").addEventListener("submit",function(e){e.preventDefault(),c(l).button("loading"),t.tokenize(function(e,t){c('input[name="braintree_token"]',s).val(""),void 0!==t&&void 0!==t.nonce&&c('input[name="braintree_token"]',s).val(t.nonce),e&&"undefined"!=typeof Sentry&&Sentry.captureException(e),c().ktSubscriptionCheckoutSubmit()})},!1)}}))})}}catch(e){"undefined"!=typeof Sentry&&Sentry.captureException(e)}})),c(document).ajaxComplete(function(){if(0<c(s).length){if(void 0!==i.ktSubscription&&void 0!==i.ktSubscription.redirectUser&&i.ktSubscription.redirectUser)return c(l).button("loading"),void(window.location.href=i.ktSubscription.redirectUser);c(l).button("reset"),c(".checkout-modal").modal("hide"),0<c('.messages[role="alert"]',s).length&&(c(".form-actions",s).show(),c('input[name="braintree_token"]',s).val(""),c('input[name="stripe_token"]',s).val(""),c('input[name="name"]',s).hasClass("has-error")&&(c('input[name="name"]',s).parent(".form-item").removeClass("has-success").removeClass("has-error").addClass("has-error"),c('input[name="name"]',s).parent(".form-item").find(".glyphicon").removeClass("hidden").addClass("hidden"),c('input[name="name"]',s).parent(".form-item").find(".glyphicon-remove").removeClass("hidden")),c('input[name="email"]',s).hasClass("has-error")&&(c('input[name="email"]',s).parent(".form-item").removeClass("has-success").removeClass("has-error").addClass("has-error"),c('input[name="email"]',s).parent(".form-item").find(".glyphicon").removeClass("hidden").addClass("hidden"),c('input[name="email"]',s).parent(".form-item").find(".glyphicon-remove").removeClass("hidden")),c("html, body").stop().animate({scrollTop:c('.messages[role="alert"]',s).offset().top-20}))}}),void 0!==i.ktSubscription&&void 0!==i.ktSubscription.checkoutForm&&"undefined"!==i.ktSubscription.checkoutForm.translations.errorMessage&&(window.alert=function(e){return c('.messages[role="alert"]').fadeOut(1e3,function(){c(this).remove()}),c(s).prepend('<div class="messages bg-danger alert alert-danger" role="alert">'+i.ktSubscription.checkoutForm.translations.errorMessage+"</div>"),"undefined"!=typeof Sentry&&Sentry.captureMessage("[kt-subscription.js > window.alert] "+e),!0})}},e}(ktSubscription||{},jQuery),ktUser=function(e,i,s,t){return s.behaviors.ktUser={attach:function(e,o){0<i("#user-profile-form").length&&(i("#user-profile-form .form-item-current-pass").addClass("hidden"),i('#user-profile-form .form-item-current-pass input[name="current_pass"]').hasClass("error")?i("#user-profile-form .form-item-current-pass").removeClass("hidden"):i("#user-profile-form .form-item-current-pass").addClass("hidden"),i('#user-profile-form input[name="mail"]').on("keypress keydown keyup paste change input",function(){i('#user-profile-form input[name="mail"]').val()===i(this).attr("data-original-value")?i('#user-profile-form .form-item-current-pass input[name="current_pass"]').hasClass("error")?i("#user-profile-form .form-item-current-pass").removeClass("hidden"):i("#user-profile-form .form-item-current-pass").addClass("hidden"):i("#user-profile-form .form-item-current-pass").removeClass("hidden")})),0<i(".form-user-login").length&&i('.form-user-login input[name="name"]').focus(),0<i(".form-user-password").length&&i('.form-user-password input[name="name"]').focus(),0<i(".form-password-reset").length&&i('.form-password-reset input[name="password"]').focus(),i('.form-password-reset input[name="password_confirm"]').on("change",function(){i(this).is(":checked")?i('.form-password-reset input[name="password"]').attr("type","text"):i('.form-password-reset input[name="password"]').attr("type","password")}),i(".form-user-management-invite, #user-profile-form, #user-register-form, .form-user-password").find(".form-submit").on("click",function(){i(this).button("loading")}),0<i('.form-api-settings input[name="api_key"]').length&&new ClipboardJS(document.querySelectorAll(".btn-api-copy"),{text:function(e){return i(e).parents(".form-api-settings").find('input[name="api_key"]').val()}}).on("success",function(e){i(e.trigger).tooltip("show"),window.setTimeout(function(){i(e.trigger).tooltip("hide")},3e3),e.clearSelection()}),function(){if(0<i(".form-user-management-invite .additional-users-wrapper").length){var r=o.ktUser.additionalUsers.priceList,a=i(".form-user-management-invite .additional-users-wrapper"),n=i("#additional-users-modal"),e=5;0<o.ktUser.additionalUsers.childLimit&&100<(e=5*Math.floor(o.ktUser.additionalUsers.childLimit/5)+5)&&(e=100),i(".additional-users-calc",a).html(s.t(o.ktUser.additionalUsers.sliderCalcText,{"!users":numeral(e).format("0,0"),"!amount_monthly":numeral(r[e].month).format("$0,0"),"!amount_yearly":numeral(r[e].year).format("$0,0")})),i(".btn-increase-users",a).html(s.t(o.ktUser.additionalUsers.submitButtonText,{"!users":numeral(e).format("0,0")})),i(".modal-body .users",a).html(s.t(o.ktUser.additionalUsers.confirmModalUsers,{"!users":numeral(e).format("0,0")})),i(".modal-body .price",a).html(s.t(o.ktUser.additionalUsers.confirmModalPrice,{"!amount_monthly":numeral(r[e].month).format("$0,0"),"!amount_yearly":numeral(r[e].year).format("$0,0")})),i('input[name="users"]',n).val(e),i(".form-user-management-invite .additional-users-slider").slider({min:e,max:105,orientation:"horizontal",step:5,range:!1,value:e,slide:function(e,t){t.value<=100?(i(".additional-users-calc",a).html(s.t(o.ktUser.additionalUsers.sliderCalcText,{"!users":numeral(t.value).format("0,0"),"!amount_monthly":numeral(r[t.value].month).format("$0,0"),"!amount_yearly":numeral(r[t.value].year).format("$0,0")})),i(".btn-increase-users",a).html(s.t(o.ktUser.additionalUsers.submitButtonText,{"!users":numeral(t.value).format("0,0")})),i(".modal-body .users",a).html(s.t(o.ktUser.additionalUsers.confirmModalUsers,{"!users":numeral(t.value).format("0,0")})),i(".modal-body .price",a).html(s.t(o.ktUser.additionalUsers.confirmModalPrice,{"!amount_monthly":numeral(r[t.value].month).format("$0,0"),"!amount_yearly":numeral(r[t.value].year).format("$0,0")})),i('input[name="users"]',n).val(t.value)):(i(".additional-users-calc",a).html(o.ktUser.additionalUsers.sliderCalcTextPriceOnRequest),i(".btn-increase-users",a).html(o.ktUser.additionalUsers.submitButtonTextPriceOnRequest),i(".modal-body .users",a).html(s.t(o.ktUser.additionalUsers.confirmModalUsers,{"!users":o.ktUser.additionalUsers.moreThan100Users})),i(".modal-body .price",a).html(s.t(o.ktUser.additionalUsers.confirmModalPriceOnRequest)),i('input[name="users"]',n).val(">100"))}}),i(".btn-increase-users",a).on("click",function(e){i(n).modal(),i(n).on("show.bs.modal",function(e){i(".modal-body .messages",n).remove()}),e.preventDefault()}),i(".btn-increase-users-confirm",a).on("click",function(e){var t=i('input[name="users"]',n).val(),r=i('input[name="modal_form_token"]').val();i.ajax({type:"POST",url:o.ktUser.additionalUsers.confirmModalUrl,data:{users:t,token:r},beforeSend:function(){i(".btn-increase-users-confirm",a).attr("disabled","disabled")},success:function(){window.location.href=o.ktUser.additionalUsers.confirmModalUrlRedirect},error:function(e,t,r){i(".modal-body .messages",n).remove(),i(".modal-body",n).prepend('<div class="messages bg-danger alert alert-danger" role="alert">'+o.ktUser.additionalUsers.errorMessage+"</div>"),i(".btn-increase-users-confirm",a).removeAttr("disabled")}}),e.preventDefault()})}}()}},e}(ktUser||{},jQuery,Drupal),ktTheme=function(e,t,r,a){return Drupal.behaviors.ktTheme={attach:function(e,t){}},e}(ktTheme||{},jQuery);